/*C24*/SET SCHEMA PUBLIC
DISCONNECT
/*C25*/SET SCHEMA PUBLIC
DISCONNECT
/*C26*/SET SCHEMA PUBLIC
DISCONNECT
/*C27*/SET SCHEMA PUBLIC
DISCONNECT
/*C28*/SET SCHEMA PUBLIC
DISCONNECT
/*C29*/SET SCHEMA PUBLIC
DROP TABLE TCitizens
CREATE TABLE TSugerencia (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), ESTADO VARCHAR(255), TITULO VARCHAR(255), CATEGORIA_ID BIGINT, CITIZEN_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TVotoSugerencia (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, SUGERENCIA_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, SUGERENCIA_ID))
CREATE TABLE TCategoria (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, FECHAFIN DATE, FECHAINICIO DATE, MINIMOVOTOS INTEGER, NOMBRE VARCHAR(255), PALABRASNOPERMITIDAS LONGVARBINARY, PRIMARY KEY (ID))
CREATE TABLE TVotoComentario (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, COMENTARIO_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, COMENTARIO_ID))
CREATE TABLE TAdministrador (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TComentario (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), CITIZEN_ID BIGINT, SUGERENCIA_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TCitizens (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DNI VARCHAR(255), APELLIDOS VARCHAR(255), DIRECCION VARCHAR(255), EMAIL VARCHAR(255), FECHANACIMIENTO DATE, NACIONALIDAD VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
ALTER TABLE TSugerencia ADD CONSTRAINT FK_TSugerencia_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCitizens (ID)
ALTER TABLE TSugerencia ADD CONSTRAINT FK_TSugerencia_CATEGORIA_ID FOREIGN KEY (CATEGORIA_ID) REFERENCES TCategoria (ID)
ALTER TABLE TVotoSugerencia ADD CONSTRAINT FK_TVotoSugerencia_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCitizens (ID)
ALTER TABLE TVotoSugerencia ADD CONSTRAINT FK_TVotoSugerencia_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSugerencia (ID)
ALTER TABLE TVotoComentario ADD CONSTRAINT FK_TVotoComentario_COMENTARIO_ID FOREIGN KEY (COMENTARIO_ID) REFERENCES TComentario (ID)
ALTER TABLE TVotoComentario ADD CONSTRAINT FK_TVotoComentario_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCitizens (ID)
ALTER TABLE TComentario ADD CONSTRAINT FK_TComentario_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSugerencia (ID)
ALTER TABLE TComentario ADD CONSTRAINT FK_TComentario_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCitizens (ID)
DISCONNECT
/*C30*/SET SCHEMA PUBLIC
DISCONNECT
