/*C46*/SET SCHEMA PUBLIC
DISCONNECT
/*C47*/SET SCHEMA PUBLIC
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID
ALTER TABLE TPALABRAS DROP CONSTRAINT FK_TPALABRAS_Categoria_ID
DROP TABLE TVOTOCOMENTARIO
DROP TABLE TADMINISTRADOR
DROP TABLE TCOMENTARIO
DROP TABLE TSUGERENCIA
DROP TABLE TVOTOSUGERENCIA
DROP TABLE TCATEGORIA
DROP TABLE TCITIZENS
DROP TABLE TPALABRAS
CREATE TABLE TVOTOCOMENTARIO (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, COMENTARIO_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, COMENTARIO_ID))
CREATE TABLE TADMINISTRADOR (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCOMENTARIO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), CITIZEN_ID BIGINT, SUGERENCIA_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TSUGERENCIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), ESTADO VARCHAR(255), TITULO VARCHAR(255), CATEGORIA_ID BIGINT, CITIZEN_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TVOTOSUGERENCIA (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, SUGERENCIA_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, SUGERENCIA_ID))
CREATE TABLE TCATEGORIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, FECHAFIN DATE, FECHAINICIO DATE, MINIMOVOTOS INTEGER, NOMBRE VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCITIZENS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DNI VARCHAR(255), APELLIDOS VARCHAR(255), DIRECCION VARCHAR(255), EMAIL VARCHAR(255), FECHANACIMIENTO DATE, NACIONALIDAD VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TPALABRAS (Categoria_ID BIGINT, PALABRA VARCHAR(255))
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID FOREIGN KEY (COMENTARIO_ID) REFERENCES TCOMENTARIO (ID)
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID FOREIGN KEY (CATEGORIA_ID) REFERENCES TCATEGORIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TPALABRAS ADD CONSTRAINT FK_TPALABRAS_Categoria_ID FOREIGN KEY (Categoria_ID) REFERENCES TCATEGORIA (ID)
INSERT INTO TADMINISTRADOR VALUES(1,'admin','admin')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(2,'admin2','admin2')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(3,'admin3','admin3')
COMMIT
INSERT INTO TCITIZENS VALUES(1,'71435345N','Prada','direccion','seila@gmail.com','1996-01-15','espa','Seila','llFh9oTmjUI=','Seila_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(2,'72344554T','Prada','direccion2','seila2@gmail.com','1996-01-15','espa','Seila2','llFh9oTmjUI=','Seila2_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(3,'74564534E','Prada','direccion3','seila3@gmail.com','1996-01-15','espa','Seila3','llFh9oTmjUI=','Seila3_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(4,'45654665K','Watson','direccion4','david@gmail.com','1986-04-19','eng','David','llFh9oTmjUI=','David_david')
COMMIT
INSERT INTO TCITIZENS VALUES(5,'45654465V','Rodriguez','direccion5','borja@gmail.com','1995-07-28','espa','Borja','llFh9oTmjUI=','Borja_borja')
COMMIT
INSERT INTO TCITIZENS VALUES(6,'56767567Q','Fernandez','direccion6','ruben@gmail.com','1993-03-02','espa','Ruben','llFh9oTmjUI=','Ruben_ruben')
COMMIT
INSERT INTO TCITIZENS VALUES(7,'38769345L','Ramon','direccion7','juan@gmail.com','1994-08-21','espa','Juan','llFh9oTmjUI=','Juan_juan')
COMMIT
INSERT INTO TCITIZENS VALUES(8,'67569789I','Garcia','direccion8','laura@gmail.com','1991-12-10','espa','Laura','llFh9oTmjUI=','Laura_laura')
COMMIT
INSERT INTO TCATEGORIA VALUES(1,'2000-01-01','2050-01-01',5,'CategoriaDefecto')
COMMIT
INSERT INTO TCATEGORIA VALUES(2,'2017-10-04','2017-01-04',5,'Categoria1')
COMMIT
INSERT INTO TCATEGORIA VALUES(3,'2017-10-12','2017-01-01',2,'Categoria2')
COMMIT
INSERT INTO TCATEGORIA VALUES(4,'2017-10-04','2017-01-04',3,'Categoria3')
COMMIT
INSERT INTO TCATEGORIA VALUES(5,'2017-10-03','2017-01-02',5,'Categoria4')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba3')
COMMIT
INSERT INTO TSUGERENCIA VALUES(1,'contenido de la primera sugerencia','Aceptada','Sugerencia1',1,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(2,'contenido de la segunda sugerencia','EnVotacion','Sugerencia2',1,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(3,'contenido de la tercera sugerencia','EnVotacion','Sugerencia3',1,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(4,'contenido de la cuarta sugerencia','EnVotacion','Sugerencia4',1,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(5,'contenido de la quinta sugerencia','EnVotacion','Sugerencia5',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(6,'contenido de la sexta sugerencia','EnVotacion','Sugerencia6',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(7,'contenido de la septima sugerencia','Anulada','Sugerencia7',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(8,'contenido de la octava sugerencia','EnVotacion','Sugerencia8',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(9,'contenido de la novena sugerencia','EnVotacion','Sugerencia9',3,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(10,'contenido de la decima sugerencia','EnVotacion','Sugerencia10',3,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(11,'contenido de la undecima sugerencia','EnVotacion','Sugerencia11',3,6)
COMMIT
INSERT INTO TSUGERENCIA VALUES(12,'contenido de la duodecima sugerencia','EnVotacion','Sugerencia12',3,7)
COMMIT
INSERT INTO TSUGERENCIA VALUES(13,'contenido de la decimotercera sugerencia','EnVotacion','Sugerencia13',1,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(14,'contenido de la decimocuarta sugerencia','EnVotacion','Sugerencia14',1,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(15,'contenido de la decimoquinta sugerencia','EnVotacion','Sugerencia15',1,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(16,'contenido de la decimosexta sugerencia','EnVotacion','Sugerencia16',1,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(17,'contenido de la decimoseptima sugerencia','Anulada','Sugerencia17',4,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(18,'contenido de la decimooctava sugerencia','Aceptada','Sugerencia18',4,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(19,'contenido de la decimonovena sugerencia','Aceptada','Sugerencia19',4,7)
COMMIT
INSERT INTO TCOMENTARIO VALUES(1,'contenido primer comentario',1,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(2,'contenido segundo comentario',2,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(3,'contenido tercer comentario',1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,5,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,6,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,7,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,8,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,5,19)
COMMIT
INSERT INTO TCATEGORIA VALUES(6,'2017-04-04','2017-04-04',5,'test')
COMMIT
INSERT INTO TSUGERENCIA VALUES(20,'sugerencia de prueba','EnVotacion','test',6,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,20)
COMMIT
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',1,19)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,4)
COMMIT
DELETE FROM TCOMENTARIO WHERE ID=4
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',NULL,NULL)
DELETE FROM TVOTOCOMENTARIO WHERE CITIZEN_ID=1 AND COMENTARIO_ID=4
DELETE FROM TCOMENTARIO WHERE ID=4
COMMIT
DISCONNECT
/*C48*/SET SCHEMA PUBLIC
DISCONNECT
/*C49*/SET SCHEMA PUBLIC
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID
ALTER TABLE TPALABRAS DROP CONSTRAINT FK_TPALABRAS_Categoria_ID
DROP TABLE TVOTOCOMENTARIO
DROP TABLE TADMINISTRADOR
DROP TABLE TCOMENTARIO
DROP TABLE TSUGERENCIA
DROP TABLE TVOTOSUGERENCIA
DROP TABLE TCATEGORIA
DROP TABLE TCITIZENS
DROP TABLE TPALABRAS
CREATE TABLE TVOTOCOMENTARIO (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, COMENTARIO_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, COMENTARIO_ID))
CREATE TABLE TADMINISTRADOR (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCOMENTARIO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), CITIZEN_ID BIGINT, SUGERENCIA_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TSUGERENCIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), ESTADO VARCHAR(255), TITULO VARCHAR(255), CATEGORIA_ID BIGINT, CITIZEN_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TVOTOSUGERENCIA (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, SUGERENCIA_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, SUGERENCIA_ID))
CREATE TABLE TCATEGORIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, FECHAFIN DATE, FECHAINICIO DATE, MINIMOVOTOS INTEGER, NOMBRE VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCITIZENS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DNI VARCHAR(255), APELLIDOS VARCHAR(255), DIRECCION VARCHAR(255), EMAIL VARCHAR(255), FECHANACIMIENTO DATE, NACIONALIDAD VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TPALABRAS (Categoria_ID BIGINT, PALABRA VARCHAR(255))
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID FOREIGN KEY (COMENTARIO_ID) REFERENCES TCOMENTARIO (ID)
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID FOREIGN KEY (CATEGORIA_ID) REFERENCES TCATEGORIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TPALABRAS ADD CONSTRAINT FK_TPALABRAS_Categoria_ID FOREIGN KEY (Categoria_ID) REFERENCES TCATEGORIA (ID)
INSERT INTO TADMINISTRADOR VALUES(1,'admin','admin')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(2,'admin2','admin2')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(3,'admin3','admin3')
COMMIT
INSERT INTO TCITIZENS VALUES(1,'71435345N','Prada','direccion','seila@gmail.com','1996-01-15','espa','Seila','llFh9oTmjUI=','Seila_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(2,'72344554T','Prada','direccion2','seila2@gmail.com','1996-01-15','espa','Seila2','llFh9oTmjUI=','Seila2_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(3,'74564534E','Prada','direccion3','seila3@gmail.com','1996-01-15','espa','Seila3','llFh9oTmjUI=','Seila3_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(4,'45654665K','Watson','direccion4','david@gmail.com','1986-04-19','eng','David','llFh9oTmjUI=','David_david')
COMMIT
INSERT INTO TCITIZENS VALUES(5,'45654465V','Rodriguez','direccion5','borja@gmail.com','1995-07-28','espa','Borja','llFh9oTmjUI=','Borja_borja')
COMMIT
INSERT INTO TCITIZENS VALUES(6,'56767567Q','Fernandez','direccion6','ruben@gmail.com','1993-03-02','espa','Ruben','llFh9oTmjUI=','Ruben_ruben')
COMMIT
INSERT INTO TCITIZENS VALUES(7,'38769345L','Ramon','direccion7','juan@gmail.com','1994-08-21','espa','Juan','llFh9oTmjUI=','Juan_juan')
COMMIT
INSERT INTO TCITIZENS VALUES(8,'67569789I','Garcia','direccion8','laura@gmail.com','1991-12-10','espa','Laura','llFh9oTmjUI=','Laura_laura')
COMMIT
INSERT INTO TCATEGORIA VALUES(1,'2000-01-01','2050-01-01',5,'CategoriaDefecto')
COMMIT
INSERT INTO TCATEGORIA VALUES(2,'2017-10-04','2017-01-04',5,'Categoria1')
COMMIT
INSERT INTO TCATEGORIA VALUES(3,'2017-10-12','2017-01-01',2,'Categoria2')
COMMIT
INSERT INTO TCATEGORIA VALUES(4,'2017-10-04','2017-01-04',3,'Categoria3')
COMMIT
INSERT INTO TCATEGORIA VALUES(5,'2017-10-03','2017-01-02',5,'Categoria4')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba3')
COMMIT
INSERT INTO TSUGERENCIA VALUES(1,'contenido de la primera sugerencia','Aceptada','Sugerencia1',1,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(2,'contenido de la segunda sugerencia','EnVotacion','Sugerencia2',1,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(3,'contenido de la tercera sugerencia','EnVotacion','Sugerencia3',1,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(4,'contenido de la cuarta sugerencia','EnVotacion','Sugerencia4',1,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(5,'contenido de la quinta sugerencia','EnVotacion','Sugerencia5',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(6,'contenido de la sexta sugerencia','EnVotacion','Sugerencia6',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(7,'contenido de la septima sugerencia','Anulada','Sugerencia7',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(8,'contenido de la octava sugerencia','EnVotacion','Sugerencia8',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(9,'contenido de la novena sugerencia','EnVotacion','Sugerencia9',3,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(10,'contenido de la decima sugerencia','EnVotacion','Sugerencia10',3,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(11,'contenido de la undecima sugerencia','EnVotacion','Sugerencia11',3,6)
COMMIT
INSERT INTO TSUGERENCIA VALUES(12,'contenido de la duodecima sugerencia','EnVotacion','Sugerencia12',3,7)
COMMIT
INSERT INTO TSUGERENCIA VALUES(13,'contenido de la decimotercera sugerencia','EnVotacion','Sugerencia13',1,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(14,'contenido de la decimocuarta sugerencia','EnVotacion','Sugerencia14',1,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(15,'contenido de la decimoquinta sugerencia','EnVotacion','Sugerencia15',1,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(16,'contenido de la decimosexta sugerencia','EnVotacion','Sugerencia16',1,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(17,'contenido de la decimoseptima sugerencia','Anulada','Sugerencia17',4,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(18,'contenido de la decimooctava sugerencia','Aceptada','Sugerencia18',4,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(19,'contenido de la decimonovena sugerencia','Aceptada','Sugerencia19',4,7)
COMMIT
INSERT INTO TCOMENTARIO VALUES(1,'contenido primer comentario',1,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(2,'contenido segundo comentario',2,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(3,'contenido tercer comentario',1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,5,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,6,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,7,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,8,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,5,19)
COMMIT
INSERT INTO TCATEGORIA VALUES(6,'2017-04-04','2017-04-04',5,'test')
COMMIT
INSERT INTO TSUGERENCIA VALUES(20,'sugerencia de prueba','EnVotacion','test',6,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,20)
COMMIT
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',1,19)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,4)
COMMIT
DELETE FROM TCOMENTARIO WHERE ID=4
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',NULL,NULL)
DELETE FROM TVOTOCOMENTARIO WHERE CITIZEN_ID=1 AND COMENTARIO_ID=4
DELETE FROM TCOMENTARIO WHERE ID=4
COMMIT
DISCONNECT
/*C50*/SET SCHEMA PUBLIC
DISCONNECT
/*C51*/SET SCHEMA PUBLIC
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID
ALTER TABLE TPALABRAS DROP CONSTRAINT FK_TPALABRAS_Categoria_ID
DROP TABLE TVOTOCOMENTARIO
DROP TABLE TADMINISTRADOR
DROP TABLE TCOMENTARIO
DROP TABLE TSUGERENCIA
DROP TABLE TVOTOSUGERENCIA
DROP TABLE TCATEGORIA
DROP TABLE TCITIZENS
DROP TABLE TPALABRAS
CREATE TABLE TVOTOCOMENTARIO (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, COMENTARIO_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, COMENTARIO_ID))
CREATE TABLE TADMINISTRADOR (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCOMENTARIO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), CITIZEN_ID BIGINT, SUGERENCIA_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TSUGERENCIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), ESTADO VARCHAR(255), TITULO VARCHAR(255), CATEGORIA_ID BIGINT, CITIZEN_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TVOTOSUGERENCIA (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, SUGERENCIA_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, SUGERENCIA_ID))
CREATE TABLE TCATEGORIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, FECHAFIN DATE, FECHAINICIO DATE, MINIMOVOTOS INTEGER, NOMBRE VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCITIZENS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DNI VARCHAR(255), APELLIDOS VARCHAR(255), DIRECCION VARCHAR(255), EMAIL VARCHAR(255), FECHANACIMIENTO DATE, NACIONALIDAD VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TPALABRAS (Categoria_ID BIGINT, PALABRA VARCHAR(255))
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID FOREIGN KEY (COMENTARIO_ID) REFERENCES TCOMENTARIO (ID)
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID FOREIGN KEY (CATEGORIA_ID) REFERENCES TCATEGORIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TPALABRAS ADD CONSTRAINT FK_TPALABRAS_Categoria_ID FOREIGN KEY (Categoria_ID) REFERENCES TCATEGORIA (ID)
INSERT INTO TADMINISTRADOR VALUES(1,'admin','admin')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(2,'admin2','admin2')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(3,'admin3','admin3')
COMMIT
INSERT INTO TCITIZENS VALUES(1,'71435345N','Prada','direccion','seila@gmail.com','1996-01-15','espa','Seila','llFh9oTmjUI=','Seila_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(2,'72344554T','Prada','direccion2','seila2@gmail.com','1996-01-15','espa','Seila2','llFh9oTmjUI=','Seila2_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(3,'74564534E','Prada','direccion3','seila3@gmail.com','1996-01-15','espa','Seila3','llFh9oTmjUI=','Seila3_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(4,'45654665K','Watson','direccion4','david@gmail.com','1986-04-19','eng','David','llFh9oTmjUI=','David_david')
COMMIT
INSERT INTO TCITIZENS VALUES(5,'45654465V','Rodriguez','direccion5','borja@gmail.com','1995-07-28','espa','Borja','llFh9oTmjUI=','Borja_borja')
COMMIT
INSERT INTO TCITIZENS VALUES(6,'56767567Q','Fernandez','direccion6','ruben@gmail.com','1993-03-02','espa','Ruben','llFh9oTmjUI=','Ruben_ruben')
COMMIT
INSERT INTO TCITIZENS VALUES(7,'38769345L','Ramon','direccion7','juan@gmail.com','1994-08-21','espa','Juan','llFh9oTmjUI=','Juan_juan')
COMMIT
INSERT INTO TCITIZENS VALUES(8,'67569789I','Garcia','direccion8','laura@gmail.com','1991-12-10','espa','Laura','llFh9oTmjUI=','Laura_laura')
COMMIT
INSERT INTO TCATEGORIA VALUES(1,'2000-01-01','2050-01-01',5,'CategoriaDefecto')
COMMIT
INSERT INTO TCATEGORIA VALUES(2,'2017-10-04','2017-01-04',5,'Categoria1')
COMMIT
INSERT INTO TCATEGORIA VALUES(3,'2017-10-12','2017-01-01',2,'Categoria2')
COMMIT
INSERT INTO TCATEGORIA VALUES(4,'2017-10-04','2017-01-04',3,'Categoria3')
COMMIT
INSERT INTO TCATEGORIA VALUES(5,'2017-10-03','2017-01-02',5,'Categoria4')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba3')
COMMIT
INSERT INTO TSUGERENCIA VALUES(1,'contenido de la primera sugerencia','Aceptada','Sugerencia1',1,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(2,'contenido de la segunda sugerencia','EnVotacion','Sugerencia2',1,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(3,'contenido de la tercera sugerencia','EnVotacion','Sugerencia3',1,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(4,'contenido de la cuarta sugerencia','EnVotacion','Sugerencia4',1,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(5,'contenido de la quinta sugerencia','EnVotacion','Sugerencia5',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(6,'contenido de la sexta sugerencia','EnVotacion','Sugerencia6',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(7,'contenido de la septima sugerencia','Anulada','Sugerencia7',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(8,'contenido de la octava sugerencia','EnVotacion','Sugerencia8',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(9,'contenido de la novena sugerencia','EnVotacion','Sugerencia9',3,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(10,'contenido de la decima sugerencia','EnVotacion','Sugerencia10',3,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(11,'contenido de la undecima sugerencia','EnVotacion','Sugerencia11',3,6)
COMMIT
INSERT INTO TSUGERENCIA VALUES(12,'contenido de la duodecima sugerencia','EnVotacion','Sugerencia12',3,7)
COMMIT
INSERT INTO TSUGERENCIA VALUES(13,'contenido de la decimotercera sugerencia','EnVotacion','Sugerencia13',1,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(14,'contenido de la decimocuarta sugerencia','EnVotacion','Sugerencia14',1,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(15,'contenido de la decimoquinta sugerencia','EnVotacion','Sugerencia15',1,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(16,'contenido de la decimosexta sugerencia','EnVotacion','Sugerencia16',1,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(17,'contenido de la decimoseptima sugerencia','Anulada','Sugerencia17',4,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(18,'contenido de la decimooctava sugerencia','Aceptada','Sugerencia18',4,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(19,'contenido de la decimonovena sugerencia','Aceptada','Sugerencia19',4,7)
COMMIT
INSERT INTO TCOMENTARIO VALUES(1,'contenido primer comentario',1,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(2,'contenido segundo comentario',2,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(3,'contenido tercer comentario',1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,5,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,6,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,7,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,8,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,5,19)
COMMIT
INSERT INTO TCATEGORIA VALUES(6,'2017-04-04','2017-04-04',5,'test')
COMMIT
INSERT INTO TSUGERENCIA VALUES(20,'sugerencia de prueba','EnVotacion','test',6,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,20)
COMMIT
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',1,19)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,4)
COMMIT
DELETE FROM TCOMENTARIO WHERE ID=4
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',NULL,NULL)
DELETE FROM TVOTOCOMENTARIO WHERE CITIZEN_ID=1 AND COMENTARIO_ID=4
DELETE FROM TCOMENTARIO WHERE ID=4
COMMIT
DISCONNECT
/*C52*/SET SCHEMA PUBLIC
DISCONNECT
/*C53*/SET SCHEMA PUBLIC
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID
ALTER TABLE TPALABRAS DROP CONSTRAINT FK_TPALABRAS_Categoria_ID
DROP TABLE TVOTOCOMENTARIO
DROP TABLE TADMINISTRADOR
DROP TABLE TCOMENTARIO
DROP TABLE TSUGERENCIA
DROP TABLE TVOTOSUGERENCIA
DROP TABLE TCATEGORIA
DROP TABLE TCITIZENS
DROP TABLE TPALABRAS
CREATE TABLE TVOTOCOMENTARIO (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, COMENTARIO_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, COMENTARIO_ID))
CREATE TABLE TADMINISTRADOR (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCOMENTARIO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), CITIZEN_ID BIGINT, SUGERENCIA_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TSUGERENCIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), ESTADO VARCHAR(255), TITULO VARCHAR(255), CATEGORIA_ID BIGINT, CITIZEN_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TVOTOSUGERENCIA (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, SUGERENCIA_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, SUGERENCIA_ID))
CREATE TABLE TCATEGORIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, FECHAFIN DATE, FECHAINICIO DATE, MINIMOVOTOS INTEGER, NOMBRE VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCITIZENS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DNI VARCHAR(255), APELLIDOS VARCHAR(255), DIRECCION VARCHAR(255), EMAIL VARCHAR(255), FECHANACIMIENTO DATE, NACIONALIDAD VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TPALABRAS (Categoria_ID BIGINT, PALABRA VARCHAR(255))
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID FOREIGN KEY (COMENTARIO_ID) REFERENCES TCOMENTARIO (ID)
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID FOREIGN KEY (CATEGORIA_ID) REFERENCES TCATEGORIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TPALABRAS ADD CONSTRAINT FK_TPALABRAS_Categoria_ID FOREIGN KEY (Categoria_ID) REFERENCES TCATEGORIA (ID)
INSERT INTO TADMINISTRADOR VALUES(1,'admin','admin')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(2,'admin2','admin2')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(3,'admin3','admin3')
COMMIT
INSERT INTO TCITIZENS VALUES(1,'71435345N','Prada','direccion','seila@gmail.com','1996-01-15','espa','Seila','llFh9oTmjUI=','Seila_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(2,'72344554T','Prada','direccion2','seila2@gmail.com','1996-01-15','espa','Seila2','llFh9oTmjUI=','Seila2_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(3,'74564534E','Prada','direccion3','seila3@gmail.com','1996-01-15','espa','Seila3','llFh9oTmjUI=','Seila3_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(4,'45654665K','Watson','direccion4','david@gmail.com','1986-04-19','eng','David','llFh9oTmjUI=','David_david')
COMMIT
INSERT INTO TCITIZENS VALUES(5,'45654465V','Rodriguez','direccion5','borja@gmail.com','1995-07-28','espa','Borja','llFh9oTmjUI=','Borja_borja')
COMMIT
INSERT INTO TCITIZENS VALUES(6,'56767567Q','Fernandez','direccion6','ruben@gmail.com','1993-03-02','espa','Ruben','llFh9oTmjUI=','Ruben_ruben')
COMMIT
INSERT INTO TCITIZENS VALUES(7,'38769345L','Ramon','direccion7','juan@gmail.com','1994-08-21','espa','Juan','llFh9oTmjUI=','Juan_juan')
COMMIT
INSERT INTO TCITIZENS VALUES(8,'67569789I','Garcia','direccion8','laura@gmail.com','1991-12-10','espa','Laura','llFh9oTmjUI=','Laura_laura')
COMMIT
INSERT INTO TCATEGORIA VALUES(1,'2000-01-01','2050-01-01',5,'CategoriaDefecto')
COMMIT
INSERT INTO TCATEGORIA VALUES(2,'2017-10-04','2017-01-04',5,'Categoria1')
COMMIT
INSERT INTO TCATEGORIA VALUES(3,'2017-10-12','2017-01-01',2,'Categoria2')
COMMIT
INSERT INTO TCATEGORIA VALUES(4,'2017-10-04','2017-01-04',3,'Categoria3')
COMMIT
INSERT INTO TCATEGORIA VALUES(5,'2017-10-03','2017-01-02',5,'Categoria4')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba3')
COMMIT
INSERT INTO TSUGERENCIA VALUES(1,'contenido de la primera sugerencia','Aceptada','Sugerencia1',1,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(2,'contenido de la segunda sugerencia','EnVotacion','Sugerencia2',1,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(3,'contenido de la tercera sugerencia','EnVotacion','Sugerencia3',1,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(4,'contenido de la cuarta sugerencia','EnVotacion','Sugerencia4',1,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(5,'contenido de la quinta sugerencia','EnVotacion','Sugerencia5',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(6,'contenido de la sexta sugerencia','EnVotacion','Sugerencia6',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(7,'contenido de la septima sugerencia','Anulada','Sugerencia7',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(8,'contenido de la octava sugerencia','EnVotacion','Sugerencia8',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(9,'contenido de la novena sugerencia','EnVotacion','Sugerencia9',3,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(10,'contenido de la decima sugerencia','EnVotacion','Sugerencia10',3,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(11,'contenido de la undecima sugerencia','EnVotacion','Sugerencia11',3,6)
COMMIT
INSERT INTO TSUGERENCIA VALUES(12,'contenido de la duodecima sugerencia','EnVotacion','Sugerencia12',3,7)
COMMIT
INSERT INTO TSUGERENCIA VALUES(13,'contenido de la decimotercera sugerencia','EnVotacion','Sugerencia13',1,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(14,'contenido de la decimocuarta sugerencia','EnVotacion','Sugerencia14',1,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(15,'contenido de la decimoquinta sugerencia','EnVotacion','Sugerencia15',1,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(16,'contenido de la decimosexta sugerencia','EnVotacion','Sugerencia16',1,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(17,'contenido de la decimoseptima sugerencia','Anulada','Sugerencia17',4,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(18,'contenido de la decimooctava sugerencia','Aceptada','Sugerencia18',4,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(19,'contenido de la decimonovena sugerencia','Aceptada','Sugerencia19',4,7)
COMMIT
INSERT INTO TCOMENTARIO VALUES(1,'contenido primer comentario',1,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(2,'contenido segundo comentario',2,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(3,'contenido tercer comentario',1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,5,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,6,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,7,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,8,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,5,19)
COMMIT
INSERT INTO TCATEGORIA VALUES(6,'2017-04-04','2017-04-04',5,'test')
COMMIT
INSERT INTO TSUGERENCIA VALUES(20,'sugerencia de prueba','EnVotacion','test',6,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,20)
COMMIT
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',1,19)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,4)
COMMIT
DELETE FROM TCOMENTARIO WHERE ID=4
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',NULL,NULL)
DELETE FROM TVOTOCOMENTARIO WHERE CITIZEN_ID=1 AND COMENTARIO_ID=4
DELETE FROM TCOMENTARIO WHERE ID=4
COMMIT
DISCONNECT
/*C54*/SET SCHEMA PUBLIC
DISCONNECT
/*C55*/SET SCHEMA PUBLIC
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID
ALTER TABLE TPALABRAS DROP CONSTRAINT FK_TPALABRAS_Categoria_ID
DROP TABLE TVOTOCOMENTARIO
DROP TABLE TADMINISTRADOR
DROP TABLE TCOMENTARIO
DROP TABLE TSUGERENCIA
DROP TABLE TVOTOSUGERENCIA
DROP TABLE TCATEGORIA
DROP TABLE TCITIZENS
DROP TABLE TPALABRAS
CREATE TABLE TVOTOCOMENTARIO (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, COMENTARIO_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, COMENTARIO_ID))
CREATE TABLE TADMINISTRADOR (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCOMENTARIO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), CITIZEN_ID BIGINT, SUGERENCIA_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TSUGERENCIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), ESTADO VARCHAR(255), TITULO VARCHAR(255), CATEGORIA_ID BIGINT, CITIZEN_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TVOTOSUGERENCIA (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, SUGERENCIA_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, SUGERENCIA_ID))
CREATE TABLE TCATEGORIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, FECHAFIN DATE, FECHAINICIO DATE, MINIMOVOTOS INTEGER, NOMBRE VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCITIZENS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DNI VARCHAR(255), APELLIDOS VARCHAR(255), DIRECCION VARCHAR(255), EMAIL VARCHAR(255), FECHANACIMIENTO DATE, NACIONALIDAD VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TPALABRAS (Categoria_ID BIGINT, PALABRA VARCHAR(255))
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID FOREIGN KEY (COMENTARIO_ID) REFERENCES TCOMENTARIO (ID)
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID FOREIGN KEY (CATEGORIA_ID) REFERENCES TCATEGORIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TPALABRAS ADD CONSTRAINT FK_TPALABRAS_Categoria_ID FOREIGN KEY (Categoria_ID) REFERENCES TCATEGORIA (ID)
INSERT INTO TADMINISTRADOR VALUES(1,'admin','admin')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(2,'admin2','admin2')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(3,'admin3','admin3')
COMMIT
INSERT INTO TCITIZENS VALUES(1,'71435345N','Prada','direccion','seila@gmail.com','1996-01-15','espa','Seila','llFh9oTmjUI=','Seila_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(2,'72344554T','Prada','direccion2','seila2@gmail.com','1996-01-15','espa','Seila2','llFh9oTmjUI=','Seila2_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(3,'74564534E','Prada','direccion3','seila3@gmail.com','1996-01-15','espa','Seila3','llFh9oTmjUI=','Seila3_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(4,'45654665K','Watson','direccion4','david@gmail.com','1986-04-19','eng','David','llFh9oTmjUI=','David_david')
COMMIT
INSERT INTO TCITIZENS VALUES(5,'45654465V','Rodriguez','direccion5','borja@gmail.com','1995-07-28','espa','Borja','llFh9oTmjUI=','Borja_borja')
COMMIT
INSERT INTO TCITIZENS VALUES(6,'56767567Q','Fernandez','direccion6','ruben@gmail.com','1993-03-02','espa','Ruben','llFh9oTmjUI=','Ruben_ruben')
COMMIT
INSERT INTO TCITIZENS VALUES(7,'38769345L','Ramon','direccion7','juan@gmail.com','1994-08-21','espa','Juan','llFh9oTmjUI=','Juan_juan')
COMMIT
INSERT INTO TCITIZENS VALUES(8,'67569789I','Garcia','direccion8','laura@gmail.com','1991-12-10','espa','Laura','llFh9oTmjUI=','Laura_laura')
COMMIT
INSERT INTO TCATEGORIA VALUES(1,'2000-01-01','2050-01-01',5,'CategoriaDefecto')
COMMIT
INSERT INTO TCATEGORIA VALUES(2,'2017-10-04','2017-01-04',5,'Categoria1')
COMMIT
INSERT INTO TCATEGORIA VALUES(3,'2017-10-12','2017-01-01',2,'Categoria2')
COMMIT
INSERT INTO TCATEGORIA VALUES(4,'2017-10-04','2017-01-04',3,'Categoria3')
COMMIT
INSERT INTO TCATEGORIA VALUES(5,'2017-10-03','2017-01-02',5,'Categoria4')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba3')
COMMIT
INSERT INTO TSUGERENCIA VALUES(1,'contenido de la primera sugerencia','Aceptada','Sugerencia1',1,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(2,'contenido de la segunda sugerencia','EnVotacion','Sugerencia2',1,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(3,'contenido de la tercera sugerencia','EnVotacion','Sugerencia3',1,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(4,'contenido de la cuarta sugerencia','EnVotacion','Sugerencia4',1,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(5,'contenido de la quinta sugerencia','EnVotacion','Sugerencia5',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(6,'contenido de la sexta sugerencia','EnVotacion','Sugerencia6',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(7,'contenido de la septima sugerencia','Anulada','Sugerencia7',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(8,'contenido de la octava sugerencia','EnVotacion','Sugerencia8',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(9,'contenido de la novena sugerencia','EnVotacion','Sugerencia9',3,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(10,'contenido de la decima sugerencia','EnVotacion','Sugerencia10',3,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(11,'contenido de la undecima sugerencia','EnVotacion','Sugerencia11',3,6)
COMMIT
INSERT INTO TSUGERENCIA VALUES(12,'contenido de la duodecima sugerencia','EnVotacion','Sugerencia12',3,7)
COMMIT
INSERT INTO TSUGERENCIA VALUES(13,'contenido de la decimotercera sugerencia','EnVotacion','Sugerencia13',1,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(14,'contenido de la decimocuarta sugerencia','EnVotacion','Sugerencia14',1,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(15,'contenido de la decimoquinta sugerencia','EnVotacion','Sugerencia15',1,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(16,'contenido de la decimosexta sugerencia','EnVotacion','Sugerencia16',1,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(17,'contenido de la decimoseptima sugerencia','Anulada','Sugerencia17',4,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(18,'contenido de la decimooctava sugerencia','Aceptada','Sugerencia18',4,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(19,'contenido de la decimonovena sugerencia','Aceptada','Sugerencia19',4,7)
COMMIT
INSERT INTO TCOMENTARIO VALUES(1,'contenido primer comentario',1,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(2,'contenido segundo comentario',2,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(3,'contenido tercer comentario',1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,5,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,6,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,7,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,8,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,5,19)
COMMIT
INSERT INTO TCATEGORIA VALUES(6,'2017-04-04','2017-04-04',5,'test')
COMMIT
INSERT INTO TSUGERENCIA VALUES(20,'sugerencia de prueba','EnVotacion','test',6,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,20)
COMMIT
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',1,19)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,4)
COMMIT
DELETE FROM TCOMENTARIO WHERE ID=4
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',NULL,NULL)
DELETE FROM TVOTOCOMENTARIO WHERE CITIZEN_ID=1 AND COMENTARIO_ID=4
DELETE FROM TCOMENTARIO WHERE ID=4
COMMIT
DISCONNECT
/*C56*/SET SCHEMA PUBLIC
DISCONNECT
/*C57*/SET SCHEMA PUBLIC
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID
ALTER TABLE TPALABRAS DROP CONSTRAINT FK_TPALABRAS_Categoria_ID
DROP TABLE TVOTOCOMENTARIO
DROP TABLE TADMINISTRADOR
DROP TABLE TCOMENTARIO
DROP TABLE TSUGERENCIA
DROP TABLE TVOTOSUGERENCIA
DROP TABLE TCATEGORIA
DROP TABLE TCITIZENS
DROP TABLE TPALABRAS
CREATE TABLE TVOTOCOMENTARIO (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, COMENTARIO_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, COMENTARIO_ID))
CREATE TABLE TADMINISTRADOR (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCOMENTARIO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), CITIZEN_ID BIGINT, SUGERENCIA_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TSUGERENCIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), ESTADO VARCHAR(255), TITULO VARCHAR(255), CATEGORIA_ID BIGINT, CITIZEN_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TVOTOSUGERENCIA (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, SUGERENCIA_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, SUGERENCIA_ID))
CREATE TABLE TCATEGORIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, FECHAFIN DATE, FECHAINICIO DATE, MINIMOVOTOS INTEGER, NOMBRE VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCITIZENS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DNI VARCHAR(255), APELLIDOS VARCHAR(255), DIRECCION VARCHAR(255), EMAIL VARCHAR(255), FECHANACIMIENTO DATE, NACIONALIDAD VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TPALABRAS (Categoria_ID BIGINT, PALABRA VARCHAR(255))
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID FOREIGN KEY (COMENTARIO_ID) REFERENCES TCOMENTARIO (ID)
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID FOREIGN KEY (CATEGORIA_ID) REFERENCES TCATEGORIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TPALABRAS ADD CONSTRAINT FK_TPALABRAS_Categoria_ID FOREIGN KEY (Categoria_ID) REFERENCES TCATEGORIA (ID)
INSERT INTO TADMINISTRADOR VALUES(1,'admin','admin')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(2,'admin2','admin2')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(3,'admin3','admin3')
COMMIT
INSERT INTO TCITIZENS VALUES(1,'71435345N','Prada','direccion','seila@gmail.com','1996-01-15','espa','Seila','llFh9oTmjUI=','Seila_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(2,'72344554T','Prada','direccion2','seila2@gmail.com','1996-01-15','espa','Seila2','llFh9oTmjUI=','Seila2_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(3,'74564534E','Prada','direccion3','seila3@gmail.com','1996-01-15','espa','Seila3','llFh9oTmjUI=','Seila3_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(4,'45654665K','Watson','direccion4','david@gmail.com','1986-04-19','eng','David','llFh9oTmjUI=','David_david')
COMMIT
INSERT INTO TCITIZENS VALUES(5,'45654465V','Rodriguez','direccion5','borja@gmail.com','1995-07-28','espa','Borja','llFh9oTmjUI=','Borja_borja')
COMMIT
INSERT INTO TCITIZENS VALUES(6,'56767567Q','Fernandez','direccion6','ruben@gmail.com','1993-03-02','espa','Ruben','llFh9oTmjUI=','Ruben_ruben')
COMMIT
INSERT INTO TCITIZENS VALUES(7,'38769345L','Ramon','direccion7','juan@gmail.com','1994-08-21','espa','Juan','llFh9oTmjUI=','Juan_juan')
COMMIT
INSERT INTO TCITIZENS VALUES(8,'67569789I','Garcia','direccion8','laura@gmail.com','1991-12-10','espa','Laura','llFh9oTmjUI=','Laura_laura')
COMMIT
INSERT INTO TCATEGORIA VALUES(1,'2000-01-01','2050-01-01',5,'CategoriaDefecto')
COMMIT
INSERT INTO TCATEGORIA VALUES(2,'2017-10-04','2017-01-04',5,'Categoria1')
COMMIT
INSERT INTO TCATEGORIA VALUES(3,'2017-10-12','2017-01-01',2,'Categoria2')
COMMIT
INSERT INTO TCATEGORIA VALUES(4,'2017-10-04','2017-01-04',3,'Categoria3')
COMMIT
INSERT INTO TCATEGORIA VALUES(5,'2017-10-03','2017-01-02',5,'Categoria4')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba3')
COMMIT
INSERT INTO TSUGERENCIA VALUES(1,'contenido de la primera sugerencia','Aceptada','Sugerencia1',1,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(2,'contenido de la segunda sugerencia','EnVotacion','Sugerencia2',1,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(3,'contenido de la tercera sugerencia','EnVotacion','Sugerencia3',1,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(4,'contenido de la cuarta sugerencia','EnVotacion','Sugerencia4',1,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(5,'contenido de la quinta sugerencia','EnVotacion','Sugerencia5',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(6,'contenido de la sexta sugerencia','EnVotacion','Sugerencia6',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(7,'contenido de la septima sugerencia','Anulada','Sugerencia7',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(8,'contenido de la octava sugerencia','EnVotacion','Sugerencia8',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(9,'contenido de la novena sugerencia','EnVotacion','Sugerencia9',3,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(10,'contenido de la decima sugerencia','EnVotacion','Sugerencia10',3,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(11,'contenido de la undecima sugerencia','EnVotacion','Sugerencia11',3,6)
COMMIT
INSERT INTO TSUGERENCIA VALUES(12,'contenido de la duodecima sugerencia','EnVotacion','Sugerencia12',3,7)
COMMIT
INSERT INTO TSUGERENCIA VALUES(13,'contenido de la decimotercera sugerencia','EnVotacion','Sugerencia13',1,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(14,'contenido de la decimocuarta sugerencia','EnVotacion','Sugerencia14',1,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(15,'contenido de la decimoquinta sugerencia','EnVotacion','Sugerencia15',1,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(16,'contenido de la decimosexta sugerencia','EnVotacion','Sugerencia16',1,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(17,'contenido de la decimoseptima sugerencia','Anulada','Sugerencia17',4,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(18,'contenido de la decimooctava sugerencia','Aceptada','Sugerencia18',4,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(19,'contenido de la decimonovena sugerencia','Aceptada','Sugerencia19',4,7)
COMMIT
INSERT INTO TCOMENTARIO VALUES(1,'contenido primer comentario',1,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(2,'contenido segundo comentario',2,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(3,'contenido tercer comentario',1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,5,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,6,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,7,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,8,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,5,19)
COMMIT
INSERT INTO TCATEGORIA VALUES(6,'2017-04-04','2017-04-04',5,'test')
COMMIT
INSERT INTO TSUGERENCIA VALUES(20,'sugerencia de prueba','EnVotacion','test',6,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,20)
COMMIT
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',1,19)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,4)
COMMIT
DELETE FROM TCOMENTARIO WHERE ID=4
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',NULL,NULL)
DELETE FROM TVOTOCOMENTARIO WHERE CITIZEN_ID=1 AND COMENTARIO_ID=4
DELETE FROM TCOMENTARIO WHERE ID=4
COMMIT
DISCONNECT
/*C58*/SET SCHEMA PUBLIC
DISCONNECT
/*C59*/SET SCHEMA PUBLIC
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID
ALTER TABLE TPALABRAS DROP CONSTRAINT FK_TPALABRAS_Categoria_ID
DROP TABLE TVOTOCOMENTARIO
DROP TABLE TADMINISTRADOR
DROP TABLE TCOMENTARIO
DROP TABLE TSUGERENCIA
DROP TABLE TVOTOSUGERENCIA
DROP TABLE TCATEGORIA
DROP TABLE TCITIZENS
DROP TABLE TPALABRAS
CREATE TABLE TVOTOCOMENTARIO (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, COMENTARIO_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, COMENTARIO_ID))
CREATE TABLE TADMINISTRADOR (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCOMENTARIO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), CITIZEN_ID BIGINT, SUGERENCIA_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TSUGERENCIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), ESTADO VARCHAR(255), TITULO VARCHAR(255), CATEGORIA_ID BIGINT, CITIZEN_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TVOTOSUGERENCIA (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, SUGERENCIA_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, SUGERENCIA_ID))
CREATE TABLE TCATEGORIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, FECHAFIN DATE, FECHAINICIO DATE, MINIMOVOTOS INTEGER, NOMBRE VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCITIZENS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DNI VARCHAR(255), APELLIDOS VARCHAR(255), DIRECCION VARCHAR(255), EMAIL VARCHAR(255), FECHANACIMIENTO DATE, NACIONALIDAD VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TPALABRAS (Categoria_ID BIGINT, PALABRA VARCHAR(255))
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID FOREIGN KEY (COMENTARIO_ID) REFERENCES TCOMENTARIO (ID)
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID FOREIGN KEY (CATEGORIA_ID) REFERENCES TCATEGORIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TPALABRAS ADD CONSTRAINT FK_TPALABRAS_Categoria_ID FOREIGN KEY (Categoria_ID) REFERENCES TCATEGORIA (ID)
INSERT INTO TADMINISTRADOR VALUES(1,'admin','admin')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(2,'admin2','admin2')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(3,'admin3','admin3')
COMMIT
INSERT INTO TCITIZENS VALUES(1,'71435345N','Prada','direccion','seila@gmail.com','1996-01-15','espa','Seila','llFh9oTmjUI=','Seila_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(2,'72344554T','Prada','direccion2','seila2@gmail.com','1996-01-15','espa','Seila2','llFh9oTmjUI=','Seila2_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(3,'74564534E','Prada','direccion3','seila3@gmail.com','1996-01-15','espa','Seila3','llFh9oTmjUI=','Seila3_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(4,'45654665K','Watson','direccion4','david@gmail.com','1986-04-19','eng','David','llFh9oTmjUI=','David_david')
COMMIT
INSERT INTO TCITIZENS VALUES(5,'45654465V','Rodriguez','direccion5','borja@gmail.com','1995-07-28','espa','Borja','llFh9oTmjUI=','Borja_borja')
COMMIT
INSERT INTO TCITIZENS VALUES(6,'56767567Q','Fernandez','direccion6','ruben@gmail.com','1993-03-02','espa','Ruben','llFh9oTmjUI=','Ruben_ruben')
COMMIT
INSERT INTO TCITIZENS VALUES(7,'38769345L','Ramon','direccion7','juan@gmail.com','1994-08-21','espa','Juan','llFh9oTmjUI=','Juan_juan')
COMMIT
INSERT INTO TCITIZENS VALUES(8,'67569789I','Garcia','direccion8','laura@gmail.com','1991-12-10','espa','Laura','llFh9oTmjUI=','Laura_laura')
COMMIT
INSERT INTO TCATEGORIA VALUES(1,'2000-01-01','2050-01-01',5,'CategoriaDefecto')
COMMIT
INSERT INTO TCATEGORIA VALUES(2,'2017-10-04','2017-01-04',5,'Categoria1')
COMMIT
INSERT INTO TCATEGORIA VALUES(3,'2017-10-12','2017-01-01',2,'Categoria2')
COMMIT
INSERT INTO TCATEGORIA VALUES(4,'2017-10-04','2017-01-04',3,'Categoria3')
COMMIT
INSERT INTO TCATEGORIA VALUES(5,'2017-10-03','2017-01-02',5,'Categoria4')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba3')
COMMIT
INSERT INTO TSUGERENCIA VALUES(1,'contenido de la primera sugerencia','Aceptada','Sugerencia1',1,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(2,'contenido de la segunda sugerencia','EnVotacion','Sugerencia2',1,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(3,'contenido de la tercera sugerencia','EnVotacion','Sugerencia3',1,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(4,'contenido de la cuarta sugerencia','EnVotacion','Sugerencia4',1,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(5,'contenido de la quinta sugerencia','EnVotacion','Sugerencia5',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(6,'contenido de la sexta sugerencia','EnVotacion','Sugerencia6',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(7,'contenido de la septima sugerencia','Anulada','Sugerencia7',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(8,'contenido de la octava sugerencia','EnVotacion','Sugerencia8',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(9,'contenido de la novena sugerencia','EnVotacion','Sugerencia9',3,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(10,'contenido de la decima sugerencia','EnVotacion','Sugerencia10',3,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(11,'contenido de la undecima sugerencia','EnVotacion','Sugerencia11',3,6)
COMMIT
INSERT INTO TSUGERENCIA VALUES(12,'contenido de la duodecima sugerencia','EnVotacion','Sugerencia12',3,7)
COMMIT
INSERT INTO TSUGERENCIA VALUES(13,'contenido de la decimotercera sugerencia','EnVotacion','Sugerencia13',1,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(14,'contenido de la decimocuarta sugerencia','EnVotacion','Sugerencia14',1,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(15,'contenido de la decimoquinta sugerencia','EnVotacion','Sugerencia15',1,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(16,'contenido de la decimosexta sugerencia','EnVotacion','Sugerencia16',1,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(17,'contenido de la decimoseptima sugerencia','Anulada','Sugerencia17',4,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(18,'contenido de la decimooctava sugerencia','Aceptada','Sugerencia18',4,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(19,'contenido de la decimonovena sugerencia','Aceptada','Sugerencia19',4,7)
COMMIT
INSERT INTO TCOMENTARIO VALUES(1,'contenido primer comentario',1,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(2,'contenido segundo comentario',2,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(3,'contenido tercer comentario',1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,5,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,6,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,7,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,8,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,5,19)
COMMIT
INSERT INTO TCATEGORIA VALUES(6,'2017-04-04','2017-04-04',5,'test')
COMMIT
INSERT INTO TSUGERENCIA VALUES(20,'sugerencia de prueba','EnVotacion','test',6,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,20)
COMMIT
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',1,19)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,4)
COMMIT
DELETE FROM TCOMENTARIO WHERE ID=4
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',NULL,NULL)
DELETE FROM TVOTOCOMENTARIO WHERE CITIZEN_ID=1 AND COMENTARIO_ID=4
DELETE FROM TCOMENTARIO WHERE ID=4
COMMIT
DISCONNECT
/*C60*/SET SCHEMA PUBLIC
DISCONNECT
/*C61*/SET SCHEMA PUBLIC
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID
ALTER TABLE TPALABRAS DROP CONSTRAINT FK_TPALABRAS_Categoria_ID
DROP TABLE TVOTOCOMENTARIO
DROP TABLE TADMINISTRADOR
DROP TABLE TCOMENTARIO
DROP TABLE TSUGERENCIA
DROP TABLE TVOTOSUGERENCIA
DROP TABLE TCATEGORIA
DROP TABLE TCITIZENS
DROP TABLE TPALABRAS
CREATE TABLE TVOTOCOMENTARIO (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, COMENTARIO_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, COMENTARIO_ID))
CREATE TABLE TADMINISTRADOR (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCOMENTARIO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), CITIZEN_ID BIGINT, SUGERENCIA_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TSUGERENCIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), ESTADO VARCHAR(255), TITULO VARCHAR(255), CATEGORIA_ID BIGINT, CITIZEN_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TVOTOSUGERENCIA (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, SUGERENCIA_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, SUGERENCIA_ID))
CREATE TABLE TCATEGORIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, FECHAFIN DATE, FECHAINICIO DATE, MINIMOVOTOS INTEGER, NOMBRE VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCITIZENS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DNI VARCHAR(255), APELLIDOS VARCHAR(255), DIRECCION VARCHAR(255), EMAIL VARCHAR(255), FECHANACIMIENTO DATE, NACIONALIDAD VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TPALABRAS (Categoria_ID BIGINT, PALABRA VARCHAR(255))
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID FOREIGN KEY (COMENTARIO_ID) REFERENCES TCOMENTARIO (ID)
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID FOREIGN KEY (CATEGORIA_ID) REFERENCES TCATEGORIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TPALABRAS ADD CONSTRAINT FK_TPALABRAS_Categoria_ID FOREIGN KEY (Categoria_ID) REFERENCES TCATEGORIA (ID)
INSERT INTO TADMINISTRADOR VALUES(1,'admin','admin')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(2,'admin2','admin2')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(3,'admin3','admin3')
COMMIT
INSERT INTO TCITIZENS VALUES(1,'71435345N','Prada','direccion','seila@gmail.com','1996-01-15','espa','Seila','llFh9oTmjUI=','Seila_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(2,'72344554T','Prada','direccion2','seila2@gmail.com','1996-01-15','espa','Seila2','llFh9oTmjUI=','Seila2_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(3,'74564534E','Prada','direccion3','seila3@gmail.com','1996-01-15','espa','Seila3','llFh9oTmjUI=','Seila3_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(4,'45654665K','Watson','direccion4','david@gmail.com','1986-04-19','eng','David','llFh9oTmjUI=','David_david')
COMMIT
INSERT INTO TCITIZENS VALUES(5,'45654465V','Rodriguez','direccion5','borja@gmail.com','1995-07-28','espa','Borja','llFh9oTmjUI=','Borja_borja')
COMMIT
INSERT INTO TCITIZENS VALUES(6,'56767567Q','Fernandez','direccion6','ruben@gmail.com','1993-03-02','espa','Ruben','llFh9oTmjUI=','Ruben_ruben')
COMMIT
INSERT INTO TCITIZENS VALUES(7,'38769345L','Ramon','direccion7','juan@gmail.com','1994-08-21','espa','Juan','llFh9oTmjUI=','Juan_juan')
COMMIT
INSERT INTO TCITIZENS VALUES(8,'67569789I','Garcia','direccion8','laura@gmail.com','1991-12-10','espa','Laura','llFh9oTmjUI=','Laura_laura')
COMMIT
INSERT INTO TCATEGORIA VALUES(1,'2000-01-01','2050-01-01',5,'CategoriaDefecto')
COMMIT
INSERT INTO TCATEGORIA VALUES(2,'2017-10-04','2017-01-04',5,'Categoria1')
COMMIT
INSERT INTO TCATEGORIA VALUES(3,'2017-10-12','2017-01-01',2,'Categoria2')
COMMIT
INSERT INTO TCATEGORIA VALUES(4,'2017-10-04','2017-01-04',3,'Categoria3')
COMMIT
INSERT INTO TCATEGORIA VALUES(5,'2017-10-03','2017-01-02',5,'Categoria4')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba3')
COMMIT
INSERT INTO TSUGERENCIA VALUES(1,'contenido de la primera sugerencia','Aceptada','Sugerencia1',1,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(2,'contenido de la segunda sugerencia','EnVotacion','Sugerencia2',1,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(3,'contenido de la tercera sugerencia','EnVotacion','Sugerencia3',1,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(4,'contenido de la cuarta sugerencia','EnVotacion','Sugerencia4',1,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(5,'contenido de la quinta sugerencia','EnVotacion','Sugerencia5',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(6,'contenido de la sexta sugerencia','EnVotacion','Sugerencia6',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(7,'contenido de la septima sugerencia','Anulada','Sugerencia7',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(8,'contenido de la octava sugerencia','EnVotacion','Sugerencia8',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(9,'contenido de la novena sugerencia','EnVotacion','Sugerencia9',3,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(10,'contenido de la decima sugerencia','EnVotacion','Sugerencia10',3,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(11,'contenido de la undecima sugerencia','EnVotacion','Sugerencia11',3,6)
COMMIT
INSERT INTO TSUGERENCIA VALUES(12,'contenido de la duodecima sugerencia','EnVotacion','Sugerencia12',3,7)
COMMIT
INSERT INTO TSUGERENCIA VALUES(13,'contenido de la decimotercera sugerencia','EnVotacion','Sugerencia13',1,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(14,'contenido de la decimocuarta sugerencia','EnVotacion','Sugerencia14',1,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(15,'contenido de la decimoquinta sugerencia','EnVotacion','Sugerencia15',1,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(16,'contenido de la decimosexta sugerencia','EnVotacion','Sugerencia16',1,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(17,'contenido de la decimoseptima sugerencia','Anulada','Sugerencia17',4,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(18,'contenido de la decimooctava sugerencia','Aceptada','Sugerencia18',4,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(19,'contenido de la decimonovena sugerencia','Aceptada','Sugerencia19',4,7)
COMMIT
INSERT INTO TCOMENTARIO VALUES(1,'contenido primer comentario',1,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(2,'contenido segundo comentario',2,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(3,'contenido tercer comentario',1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,5,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,6,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,7,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,8,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,5,19)
COMMIT
INSERT INTO TCATEGORIA VALUES(6,'2017-04-04','2017-04-04',5,'test')
COMMIT
INSERT INTO TSUGERENCIA VALUES(20,'sugerencia de prueba','EnVotacion','test',6,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,20)
COMMIT
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',1,19)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,4)
COMMIT
DELETE FROM TCOMENTARIO WHERE ID=4
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',NULL,NULL)
DELETE FROM TVOTOCOMENTARIO WHERE CITIZEN_ID=1 AND COMENTARIO_ID=4
DELETE FROM TCOMENTARIO WHERE ID=4
COMMIT
DISCONNECT
/*C62*/SET SCHEMA PUBLIC
DISCONNECT
/*C63*/SET SCHEMA PUBLIC
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID
ALTER TABLE TPALABRAS DROP CONSTRAINT FK_TPALABRAS_Categoria_ID
DROP TABLE TVOTOCOMENTARIO
DROP TABLE TADMINISTRADOR
DROP TABLE TCOMENTARIO
DROP TABLE TSUGERENCIA
DROP TABLE TVOTOSUGERENCIA
DROP TABLE TCATEGORIA
DROP TABLE TCITIZENS
DROP TABLE TPALABRAS
CREATE TABLE TVOTOCOMENTARIO (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, COMENTARIO_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, COMENTARIO_ID))
CREATE TABLE TADMINISTRADOR (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCOMENTARIO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), CITIZEN_ID BIGINT, SUGERENCIA_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TSUGERENCIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), ESTADO VARCHAR(255), TITULO VARCHAR(255), CATEGORIA_ID BIGINT, CITIZEN_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TVOTOSUGERENCIA (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, SUGERENCIA_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, SUGERENCIA_ID))
CREATE TABLE TCATEGORIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, FECHAFIN DATE, FECHAINICIO DATE, MINIMOVOTOS INTEGER, NOMBRE VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCITIZENS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DNI VARCHAR(255), APELLIDOS VARCHAR(255), DIRECCION VARCHAR(255), EMAIL VARCHAR(255), FECHANACIMIENTO DATE, NACIONALIDAD VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TPALABRAS (Categoria_ID BIGINT, PALABRA VARCHAR(255))
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID FOREIGN KEY (COMENTARIO_ID) REFERENCES TCOMENTARIO (ID)
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID FOREIGN KEY (CATEGORIA_ID) REFERENCES TCATEGORIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TPALABRAS ADD CONSTRAINT FK_TPALABRAS_Categoria_ID FOREIGN KEY (Categoria_ID) REFERENCES TCATEGORIA (ID)
INSERT INTO TADMINISTRADOR VALUES(1,'admin','admin')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(2,'admin2','admin2')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(3,'admin3','admin3')
COMMIT
INSERT INTO TCITIZENS VALUES(1,'71435345N','Prada','direccion','seila@gmail.com','1996-01-15','espa','Seila','llFh9oTmjUI=','Seila_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(2,'72344554T','Prada','direccion2','seila2@gmail.com','1996-01-15','espa','Seila2','llFh9oTmjUI=','Seila2_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(3,'74564534E','Prada','direccion3','seila3@gmail.com','1996-01-15','espa','Seila3','llFh9oTmjUI=','Seila3_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(4,'45654665K','Watson','direccion4','david@gmail.com','1986-04-19','eng','David','llFh9oTmjUI=','David_david')
COMMIT
INSERT INTO TCITIZENS VALUES(5,'45654465V','Rodriguez','direccion5','borja@gmail.com','1995-07-28','espa','Borja','llFh9oTmjUI=','Borja_borja')
COMMIT
INSERT INTO TCITIZENS VALUES(6,'56767567Q','Fernandez','direccion6','ruben@gmail.com','1993-03-02','espa','Ruben','llFh9oTmjUI=','Ruben_ruben')
COMMIT
INSERT INTO TCITIZENS VALUES(7,'38769345L','Ramon','direccion7','juan@gmail.com','1994-08-21','espa','Juan','llFh9oTmjUI=','Juan_juan')
COMMIT
INSERT INTO TCITIZENS VALUES(8,'67569789I','Garcia','direccion8','laura@gmail.com','1991-12-10','espa','Laura','llFh9oTmjUI=','Laura_laura')
COMMIT
INSERT INTO TCATEGORIA VALUES(1,'2000-01-01','2050-01-01',5,'CategoriaDefecto')
COMMIT
INSERT INTO TCATEGORIA VALUES(2,'2017-10-04','2017-01-04',5,'Categoria1')
COMMIT
INSERT INTO TCATEGORIA VALUES(3,'2017-10-12','2017-01-01',2,'Categoria2')
COMMIT
INSERT INTO TCATEGORIA VALUES(4,'2017-10-04','2017-01-04',3,'Categoria3')
COMMIT
INSERT INTO TCATEGORIA VALUES(5,'2017-10-03','2017-01-02',5,'Categoria4')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba3')
COMMIT
INSERT INTO TSUGERENCIA VALUES(1,'contenido de la primera sugerencia','Aceptada','Sugerencia1',1,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(2,'contenido de la segunda sugerencia','EnVotacion','Sugerencia2',1,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(3,'contenido de la tercera sugerencia','EnVotacion','Sugerencia3',1,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(4,'contenido de la cuarta sugerencia','EnVotacion','Sugerencia4',1,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(5,'contenido de la quinta sugerencia','EnVotacion','Sugerencia5',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(6,'contenido de la sexta sugerencia','EnVotacion','Sugerencia6',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(7,'contenido de la septima sugerencia','Anulada','Sugerencia7',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(8,'contenido de la octava sugerencia','EnVotacion','Sugerencia8',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(9,'contenido de la novena sugerencia','EnVotacion','Sugerencia9',3,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(10,'contenido de la decima sugerencia','EnVotacion','Sugerencia10',3,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(11,'contenido de la undecima sugerencia','EnVotacion','Sugerencia11',3,6)
COMMIT
INSERT INTO TSUGERENCIA VALUES(12,'contenido de la duodecima sugerencia','EnVotacion','Sugerencia12',3,7)
COMMIT
INSERT INTO TSUGERENCIA VALUES(13,'contenido de la decimotercera sugerencia','EnVotacion','Sugerencia13',1,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(14,'contenido de la decimocuarta sugerencia','EnVotacion','Sugerencia14',1,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(15,'contenido de la decimoquinta sugerencia','EnVotacion','Sugerencia15',1,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(16,'contenido de la decimosexta sugerencia','EnVotacion','Sugerencia16',1,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(17,'contenido de la decimoseptima sugerencia','Anulada','Sugerencia17',4,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(18,'contenido de la decimooctava sugerencia','Aceptada','Sugerencia18',4,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(19,'contenido de la decimonovena sugerencia','Aceptada','Sugerencia19',4,7)
COMMIT
INSERT INTO TCOMENTARIO VALUES(1,'contenido primer comentario',1,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(2,'contenido segundo comentario',2,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(3,'contenido tercer comentario',1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,5,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,6,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,7,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,8,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,5,19)
COMMIT
INSERT INTO TCATEGORIA VALUES(6,'2017-04-04','2017-04-04',5,'test')
COMMIT
INSERT INTO TSUGERENCIA VALUES(20,'sugerencia de prueba','EnVotacion','test',6,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,20)
COMMIT
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',1,19)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,4)
COMMIT
DELETE FROM TCOMENTARIO WHERE ID=4
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',NULL,NULL)
DELETE FROM TVOTOCOMENTARIO WHERE CITIZEN_ID=1 AND COMENTARIO_ID=4
DELETE FROM TCOMENTARIO WHERE ID=4
COMMIT
DISCONNECT
/*C64*/SET SCHEMA PUBLIC
DISCONNECT
/*C65*/SET SCHEMA PUBLIC
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID
ALTER TABLE TPALABRAS DROP CONSTRAINT FK_TPALABRAS_Categoria_ID
DROP TABLE TVOTOCOMENTARIO
DROP TABLE TADMINISTRADOR
DROP TABLE TCOMENTARIO
DROP TABLE TSUGERENCIA
DROP TABLE TVOTOSUGERENCIA
DROP TABLE TCATEGORIA
DROP TABLE TCITIZENS
DROP TABLE TPALABRAS
CREATE TABLE TVOTOCOMENTARIO (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, COMENTARIO_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, COMENTARIO_ID))
CREATE TABLE TADMINISTRADOR (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCOMENTARIO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), CITIZEN_ID BIGINT, SUGERENCIA_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TSUGERENCIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), ESTADO VARCHAR(255), TITULO VARCHAR(255), CATEGORIA_ID BIGINT, CITIZEN_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TVOTOSUGERENCIA (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, SUGERENCIA_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, SUGERENCIA_ID))
CREATE TABLE TCATEGORIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, FECHAFIN DATE, FECHAINICIO DATE, MINIMOVOTOS INTEGER, NOMBRE VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCITIZENS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DNI VARCHAR(255), APELLIDOS VARCHAR(255), DIRECCION VARCHAR(255), EMAIL VARCHAR(255), FECHANACIMIENTO DATE, NACIONALIDAD VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TPALABRAS (Categoria_ID BIGINT, PALABRA VARCHAR(255))
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID FOREIGN KEY (COMENTARIO_ID) REFERENCES TCOMENTARIO (ID)
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID FOREIGN KEY (CATEGORIA_ID) REFERENCES TCATEGORIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TPALABRAS ADD CONSTRAINT FK_TPALABRAS_Categoria_ID FOREIGN KEY (Categoria_ID) REFERENCES TCATEGORIA (ID)
INSERT INTO TADMINISTRADOR VALUES(1,'admin','admin')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(2,'admin2','admin2')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(3,'admin3','admin3')
COMMIT
INSERT INTO TCITIZENS VALUES(1,'71435345N','Prada','direccion','seila@gmail.com','1996-01-15','espa','Seila','llFh9oTmjUI=','Seila_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(2,'72344554T','Prada','direccion2','seila2@gmail.com','1996-01-15','espa','Seila2','llFh9oTmjUI=','Seila2_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(3,'74564534E','Prada','direccion3','seila3@gmail.com','1996-01-15','espa','Seila3','llFh9oTmjUI=','Seila3_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(4,'45654665K','Watson','direccion4','david@gmail.com','1986-04-19','eng','David','llFh9oTmjUI=','David_david')
COMMIT
INSERT INTO TCITIZENS VALUES(5,'45654465V','Rodriguez','direccion5','borja@gmail.com','1995-07-28','espa','Borja','llFh9oTmjUI=','Borja_borja')
COMMIT
INSERT INTO TCITIZENS VALUES(6,'56767567Q','Fernandez','direccion6','ruben@gmail.com','1993-03-02','espa','Ruben','llFh9oTmjUI=','Ruben_ruben')
COMMIT
INSERT INTO TCITIZENS VALUES(7,'38769345L','Ramon','direccion7','juan@gmail.com','1994-08-21','espa','Juan','llFh9oTmjUI=','Juan_juan')
COMMIT
INSERT INTO TCITIZENS VALUES(8,'67569789I','Garcia','direccion8','laura@gmail.com','1991-12-10','espa','Laura','llFh9oTmjUI=','Laura_laura')
COMMIT
INSERT INTO TCATEGORIA VALUES(1,'2000-01-01','2050-01-01',5,'CategoriaDefecto')
COMMIT
INSERT INTO TCATEGORIA VALUES(2,'2017-10-04','2017-01-04',5,'Categoria1')
COMMIT
INSERT INTO TCATEGORIA VALUES(3,'2017-10-12','2017-01-01',2,'Categoria2')
COMMIT
INSERT INTO TCATEGORIA VALUES(4,'2017-10-04','2017-01-04',3,'Categoria3')
COMMIT
INSERT INTO TCATEGORIA VALUES(5,'2017-10-03','2017-01-02',5,'Categoria4')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba3')
COMMIT
INSERT INTO TSUGERENCIA VALUES(1,'contenido de la primera sugerencia','Aceptada','Sugerencia1',1,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(2,'contenido de la segunda sugerencia','EnVotacion','Sugerencia2',1,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(3,'contenido de la tercera sugerencia','EnVotacion','Sugerencia3',1,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(4,'contenido de la cuarta sugerencia','EnVotacion','Sugerencia4',1,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(5,'contenido de la quinta sugerencia','EnVotacion','Sugerencia5',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(6,'contenido de la sexta sugerencia','EnVotacion','Sugerencia6',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(7,'contenido de la septima sugerencia','Anulada','Sugerencia7',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(8,'contenido de la octava sugerencia','EnVotacion','Sugerencia8',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(9,'contenido de la novena sugerencia','EnVotacion','Sugerencia9',3,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(10,'contenido de la decima sugerencia','EnVotacion','Sugerencia10',3,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(11,'contenido de la undecima sugerencia','EnVotacion','Sugerencia11',3,6)
COMMIT
INSERT INTO TSUGERENCIA VALUES(12,'contenido de la duodecima sugerencia','EnVotacion','Sugerencia12',3,7)
COMMIT
INSERT INTO TSUGERENCIA VALUES(13,'contenido de la decimotercera sugerencia','EnVotacion','Sugerencia13',1,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(14,'contenido de la decimocuarta sugerencia','EnVotacion','Sugerencia14',1,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(15,'contenido de la decimoquinta sugerencia','EnVotacion','Sugerencia15',1,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(16,'contenido de la decimosexta sugerencia','EnVotacion','Sugerencia16',1,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(17,'contenido de la decimoseptima sugerencia','Anulada','Sugerencia17',4,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(18,'contenido de la decimooctava sugerencia','Aceptada','Sugerencia18',4,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(19,'contenido de la decimonovena sugerencia','Aceptada','Sugerencia19',4,7)
COMMIT
INSERT INTO TCOMENTARIO VALUES(1,'contenido primer comentario',1,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(2,'contenido segundo comentario',2,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(3,'contenido tercer comentario',1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,5,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,6,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,7,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,8,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,5,19)
COMMIT
INSERT INTO TCATEGORIA VALUES(6,'2017-04-04','2017-04-04',5,'test')
COMMIT
INSERT INTO TSUGERENCIA VALUES(20,'sugerencia de prueba','EnVotacion','test',6,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,20)
COMMIT
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',1,19)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,4)
COMMIT
DELETE FROM TCOMENTARIO WHERE ID=4
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',NULL,NULL)
DELETE FROM TVOTOCOMENTARIO WHERE CITIZEN_ID=1 AND COMENTARIO_ID=4
DELETE FROM TCOMENTARIO WHERE ID=4
COMMIT
DISCONNECT
/*C66*/SET SCHEMA PUBLIC
DISCONNECT
/*C67*/SET SCHEMA PUBLIC
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID
ALTER TABLE TPALABRAS DROP CONSTRAINT FK_TPALABRAS_Categoria_ID
DROP TABLE TVOTOCOMENTARIO
DROP TABLE TADMINISTRADOR
DROP TABLE TCOMENTARIO
DROP TABLE TSUGERENCIA
DROP TABLE TVOTOSUGERENCIA
DROP TABLE TCATEGORIA
DROP TABLE TCITIZENS
DROP TABLE TPALABRAS
CREATE TABLE TVOTOCOMENTARIO (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, COMENTARIO_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, COMENTARIO_ID))
CREATE TABLE TADMINISTRADOR (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCOMENTARIO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), CITIZEN_ID BIGINT, SUGERENCIA_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TSUGERENCIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), ESTADO VARCHAR(255), TITULO VARCHAR(255), CATEGORIA_ID BIGINT, CITIZEN_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TVOTOSUGERENCIA (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, SUGERENCIA_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, SUGERENCIA_ID))
CREATE TABLE TCATEGORIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, FECHAFIN DATE, FECHAINICIO DATE, MINIMOVOTOS INTEGER, NOMBRE VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCITIZENS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DNI VARCHAR(255), APELLIDOS VARCHAR(255), DIRECCION VARCHAR(255), EMAIL VARCHAR(255), FECHANACIMIENTO DATE, NACIONALIDAD VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TPALABRAS (Categoria_ID BIGINT, PALABRA VARCHAR(255))
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID FOREIGN KEY (COMENTARIO_ID) REFERENCES TCOMENTARIO (ID)
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID FOREIGN KEY (CATEGORIA_ID) REFERENCES TCATEGORIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TPALABRAS ADD CONSTRAINT FK_TPALABRAS_Categoria_ID FOREIGN KEY (Categoria_ID) REFERENCES TCATEGORIA (ID)
INSERT INTO TADMINISTRADOR VALUES(1,'admin','admin')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(2,'admin2','admin2')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(3,'admin3','admin3')
COMMIT
INSERT INTO TCITIZENS VALUES(1,'71435345N','Prada','direccion','seila@gmail.com','1996-01-15','espa','Seila','llFh9oTmjUI=','Seila_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(2,'72344554T','Prada','direccion2','seila2@gmail.com','1996-01-15','espa','Seila2','llFh9oTmjUI=','Seila2_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(3,'74564534E','Prada','direccion3','seila3@gmail.com','1996-01-15','espa','Seila3','llFh9oTmjUI=','Seila3_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(4,'45654665K','Watson','direccion4','david@gmail.com','1986-04-19','eng','David','llFh9oTmjUI=','David_david')
COMMIT
INSERT INTO TCITIZENS VALUES(5,'45654465V','Rodriguez','direccion5','borja@gmail.com','1995-07-28','espa','Borja','llFh9oTmjUI=','Borja_borja')
COMMIT
INSERT INTO TCITIZENS VALUES(6,'56767567Q','Fernandez','direccion6','ruben@gmail.com','1993-03-02','espa','Ruben','llFh9oTmjUI=','Ruben_ruben')
COMMIT
INSERT INTO TCITIZENS VALUES(7,'38769345L','Ramon','direccion7','juan@gmail.com','1994-08-21','espa','Juan','llFh9oTmjUI=','Juan_juan')
COMMIT
INSERT INTO TCITIZENS VALUES(8,'67569789I','Garcia','direccion8','laura@gmail.com','1991-12-10','espa','Laura','llFh9oTmjUI=','Laura_laura')
COMMIT
INSERT INTO TCATEGORIA VALUES(1,'2000-01-01','2050-01-01',5,'CategoriaDefecto')
COMMIT
INSERT INTO TCATEGORIA VALUES(2,'2017-10-04','2017-01-04',5,'Categoria1')
COMMIT
INSERT INTO TCATEGORIA VALUES(3,'2017-10-12','2017-01-01',2,'Categoria2')
COMMIT
INSERT INTO TCATEGORIA VALUES(4,'2017-10-04','2017-01-04',3,'Categoria3')
COMMIT
INSERT INTO TCATEGORIA VALUES(5,'2017-10-03','2017-01-02',5,'Categoria4')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba3')
COMMIT
INSERT INTO TSUGERENCIA VALUES(1,'contenido de la primera sugerencia','Aceptada','Sugerencia1',1,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(2,'contenido de la segunda sugerencia','EnVotacion','Sugerencia2',1,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(3,'contenido de la tercera sugerencia','EnVotacion','Sugerencia3',1,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(4,'contenido de la cuarta sugerencia','EnVotacion','Sugerencia4',1,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(5,'contenido de la quinta sugerencia','EnVotacion','Sugerencia5',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(6,'contenido de la sexta sugerencia','EnVotacion','Sugerencia6',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(7,'contenido de la septima sugerencia','Anulada','Sugerencia7',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(8,'contenido de la octava sugerencia','EnVotacion','Sugerencia8',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(9,'contenido de la novena sugerencia','EnVotacion','Sugerencia9',3,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(10,'contenido de la decima sugerencia','EnVotacion','Sugerencia10',3,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(11,'contenido de la undecima sugerencia','EnVotacion','Sugerencia11',3,6)
COMMIT
INSERT INTO TSUGERENCIA VALUES(12,'contenido de la duodecima sugerencia','EnVotacion','Sugerencia12',3,7)
COMMIT
INSERT INTO TSUGERENCIA VALUES(13,'contenido de la decimotercera sugerencia','EnVotacion','Sugerencia13',1,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(14,'contenido de la decimocuarta sugerencia','EnVotacion','Sugerencia14',1,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(15,'contenido de la decimoquinta sugerencia','EnVotacion','Sugerencia15',1,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(16,'contenido de la decimosexta sugerencia','EnVotacion','Sugerencia16',1,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(17,'contenido de la decimoseptima sugerencia','Anulada','Sugerencia17',4,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(18,'contenido de la decimooctava sugerencia','Aceptada','Sugerencia18',4,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(19,'contenido de la decimonovena sugerencia','Aceptada','Sugerencia19',4,7)
COMMIT
INSERT INTO TCOMENTARIO VALUES(1,'contenido primer comentario',1,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(2,'contenido segundo comentario',2,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(3,'contenido tercer comentario',1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,5,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,6,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,7,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,8,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,5,19)
COMMIT
INSERT INTO TCATEGORIA VALUES(6,'2017-04-04','2017-04-04',5,'test')
COMMIT
INSERT INTO TSUGERENCIA VALUES(20,'sugerencia de prueba','EnVotacion','test',6,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,20)
COMMIT
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',1,19)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,4)
COMMIT
DELETE FROM TCOMENTARIO WHERE ID=4
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',NULL,NULL)
DELETE FROM TVOTOCOMENTARIO WHERE CITIZEN_ID=1 AND COMENTARIO_ID=4
DELETE FROM TCOMENTARIO WHERE ID=4
COMMIT
DISCONNECT
/*C68*/SET SCHEMA PUBLIC
DISCONNECT
/*C69*/SET SCHEMA PUBLIC
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID
ALTER TABLE TPALABRAS DROP CONSTRAINT FK_TPALABRAS_Categoria_ID
DROP TABLE TVOTOCOMENTARIO
DROP TABLE TADMINISTRADOR
DROP TABLE TCOMENTARIO
DROP TABLE TSUGERENCIA
DROP TABLE TVOTOSUGERENCIA
DROP TABLE TCATEGORIA
DROP TABLE TCITIZENS
DROP TABLE TPALABRAS
CREATE TABLE TVOTOCOMENTARIO (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, COMENTARIO_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, COMENTARIO_ID))
CREATE TABLE TADMINISTRADOR (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCOMENTARIO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), CITIZEN_ID BIGINT, SUGERENCIA_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TSUGERENCIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), ESTADO VARCHAR(255), TITULO VARCHAR(255), CATEGORIA_ID BIGINT, CITIZEN_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TVOTOSUGERENCIA (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, SUGERENCIA_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, SUGERENCIA_ID))
CREATE TABLE TCATEGORIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, FECHAFIN DATE, FECHAINICIO DATE, MINIMOVOTOS INTEGER, NOMBRE VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCITIZENS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DNI VARCHAR(255), APELLIDOS VARCHAR(255), DIRECCION VARCHAR(255), EMAIL VARCHAR(255), FECHANACIMIENTO DATE, NACIONALIDAD VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TPALABRAS (Categoria_ID BIGINT, PALABRA VARCHAR(255))
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID FOREIGN KEY (COMENTARIO_ID) REFERENCES TCOMENTARIO (ID)
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID FOREIGN KEY (CATEGORIA_ID) REFERENCES TCATEGORIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TPALABRAS ADD CONSTRAINT FK_TPALABRAS_Categoria_ID FOREIGN KEY (Categoria_ID) REFERENCES TCATEGORIA (ID)
INSERT INTO TADMINISTRADOR VALUES(1,'admin','admin')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(2,'admin2','admin2')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(3,'admin3','admin3')
COMMIT
INSERT INTO TCITIZENS VALUES(1,'71435345N','Prada','direccion','seila@gmail.com','1996-01-15','espa','Seila','llFh9oTmjUI=','Seila_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(2,'72344554T','Prada','direccion2','seila2@gmail.com','1996-01-15','espa','Seila2','llFh9oTmjUI=','Seila2_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(3,'74564534E','Prada','direccion3','seila3@gmail.com','1996-01-15','espa','Seila3','llFh9oTmjUI=','Seila3_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(4,'45654665K','Watson','direccion4','david@gmail.com','1986-04-19','eng','David','llFh9oTmjUI=','David_david')
COMMIT
INSERT INTO TCITIZENS VALUES(5,'45654465V','Rodriguez','direccion5','borja@gmail.com','1995-07-28','espa','Borja','llFh9oTmjUI=','Borja_borja')
COMMIT
INSERT INTO TCITIZENS VALUES(6,'56767567Q','Fernandez','direccion6','ruben@gmail.com','1993-03-02','espa','Ruben','llFh9oTmjUI=','Ruben_ruben')
COMMIT
INSERT INTO TCITIZENS VALUES(7,'38769345L','Ramon','direccion7','juan@gmail.com','1994-08-21','espa','Juan','llFh9oTmjUI=','Juan_juan')
COMMIT
INSERT INTO TCITIZENS VALUES(8,'67569789I','Garcia','direccion8','laura@gmail.com','1991-12-10','espa','Laura','llFh9oTmjUI=','Laura_laura')
COMMIT
INSERT INTO TCATEGORIA VALUES(1,'2000-01-01','2050-01-01',5,'CategoriaDefecto')
COMMIT
INSERT INTO TCATEGORIA VALUES(2,'2017-10-04','2017-01-04',5,'Categoria1')
COMMIT
INSERT INTO TCATEGORIA VALUES(3,'2017-10-12','2017-01-01',2,'Categoria2')
COMMIT
INSERT INTO TCATEGORIA VALUES(4,'2017-10-04','2017-01-04',3,'Categoria3')
COMMIT
INSERT INTO TCATEGORIA VALUES(5,'2017-10-03','2017-01-02',5,'Categoria4')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba3')
COMMIT
INSERT INTO TSUGERENCIA VALUES(1,'contenido de la primera sugerencia','Aceptada','Sugerencia1',1,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(2,'contenido de la segunda sugerencia','EnVotacion','Sugerencia2',1,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(3,'contenido de la tercera sugerencia','EnVotacion','Sugerencia3',1,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(4,'contenido de la cuarta sugerencia','EnVotacion','Sugerencia4',1,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(5,'contenido de la quinta sugerencia','EnVotacion','Sugerencia5',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(6,'contenido de la sexta sugerencia','EnVotacion','Sugerencia6',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(7,'contenido de la septima sugerencia','Anulada','Sugerencia7',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(8,'contenido de la octava sugerencia','EnVotacion','Sugerencia8',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(9,'contenido de la novena sugerencia','EnVotacion','Sugerencia9',3,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(10,'contenido de la decima sugerencia','EnVotacion','Sugerencia10',3,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(11,'contenido de la undecima sugerencia','EnVotacion','Sugerencia11',3,6)
COMMIT
INSERT INTO TSUGERENCIA VALUES(12,'contenido de la duodecima sugerencia','EnVotacion','Sugerencia12',3,7)
COMMIT
INSERT INTO TSUGERENCIA VALUES(13,'contenido de la decimotercera sugerencia','EnVotacion','Sugerencia13',1,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(14,'contenido de la decimocuarta sugerencia','EnVotacion','Sugerencia14',1,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(15,'contenido de la decimoquinta sugerencia','EnVotacion','Sugerencia15',1,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(16,'contenido de la decimosexta sugerencia','EnVotacion','Sugerencia16',1,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(17,'contenido de la decimoseptima sugerencia','Anulada','Sugerencia17',4,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(18,'contenido de la decimooctava sugerencia','Aceptada','Sugerencia18',4,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(19,'contenido de la decimonovena sugerencia','Aceptada','Sugerencia19',4,7)
COMMIT
INSERT INTO TCOMENTARIO VALUES(1,'contenido primer comentario',1,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(2,'contenido segundo comentario',2,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(3,'contenido tercer comentario',1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,5,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,6,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,7,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,8,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,5,19)
COMMIT
INSERT INTO TCATEGORIA VALUES(6,'2017-04-04','2017-04-04',5,'test')
COMMIT
INSERT INTO TSUGERENCIA VALUES(20,'sugerencia de prueba','EnVotacion','test',6,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,20)
COMMIT
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',1,19)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,4)
COMMIT
DELETE FROM TCOMENTARIO WHERE ID=4
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',NULL,NULL)
DELETE FROM TVOTOCOMENTARIO WHERE CITIZEN_ID=1 AND COMENTARIO_ID=4
DELETE FROM TCOMENTARIO WHERE ID=4
COMMIT
DISCONNECT
/*C70*/SET SCHEMA PUBLIC
DISCONNECT
/*C71*/SET SCHEMA PUBLIC
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID
ALTER TABLE TPALABRAS DROP CONSTRAINT FK_TPALABRAS_Categoria_ID
DROP TABLE TVOTOCOMENTARIO
DROP TABLE TADMINISTRADOR
DROP TABLE TCOMENTARIO
DROP TABLE TSUGERENCIA
DROP TABLE TVOTOSUGERENCIA
DROP TABLE TCATEGORIA
DROP TABLE TCITIZENS
DROP TABLE TPALABRAS
CREATE TABLE TVOTOCOMENTARIO (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, COMENTARIO_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, COMENTARIO_ID))
CREATE TABLE TADMINISTRADOR (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCOMENTARIO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), CITIZEN_ID BIGINT, SUGERENCIA_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TSUGERENCIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), ESTADO VARCHAR(255), TITULO VARCHAR(255), CATEGORIA_ID BIGINT, CITIZEN_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TVOTOSUGERENCIA (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, SUGERENCIA_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, SUGERENCIA_ID))
CREATE TABLE TCATEGORIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, FECHAFIN DATE, FECHAINICIO DATE, MINIMOVOTOS INTEGER, NOMBRE VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCITIZENS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DNI VARCHAR(255), APELLIDOS VARCHAR(255), DIRECCION VARCHAR(255), EMAIL VARCHAR(255), FECHANACIMIENTO DATE, NACIONALIDAD VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TPALABRAS (Categoria_ID BIGINT, PALABRA VARCHAR(255))
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID FOREIGN KEY (COMENTARIO_ID) REFERENCES TCOMENTARIO (ID)
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID FOREIGN KEY (CATEGORIA_ID) REFERENCES TCATEGORIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TPALABRAS ADD CONSTRAINT FK_TPALABRAS_Categoria_ID FOREIGN KEY (Categoria_ID) REFERENCES TCATEGORIA (ID)
INSERT INTO TADMINISTRADOR VALUES(1,'admin','admin')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(2,'admin2','admin2')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(3,'admin3','admin3')
COMMIT
INSERT INTO TCITIZENS VALUES(1,'71435345N','Prada','direccion','seila@gmail.com','1996-01-15','espa','Seila','llFh9oTmjUI=','Seila_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(2,'72344554T','Prada','direccion2','seila2@gmail.com','1996-01-15','espa','Seila2','llFh9oTmjUI=','Seila2_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(3,'74564534E','Prada','direccion3','seila3@gmail.com','1996-01-15','espa','Seila3','llFh9oTmjUI=','Seila3_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(4,'45654665K','Watson','direccion4','david@gmail.com','1986-04-19','eng','David','llFh9oTmjUI=','David_david')
COMMIT
INSERT INTO TCITIZENS VALUES(5,'45654465V','Rodriguez','direccion5','borja@gmail.com','1995-07-28','espa','Borja','llFh9oTmjUI=','Borja_borja')
COMMIT
INSERT INTO TCITIZENS VALUES(6,'56767567Q','Fernandez','direccion6','ruben@gmail.com','1993-03-02','espa','Ruben','llFh9oTmjUI=','Ruben_ruben')
COMMIT
INSERT INTO TCITIZENS VALUES(7,'38769345L','Ramon','direccion7','juan@gmail.com','1994-08-21','espa','Juan','llFh9oTmjUI=','Juan_juan')
COMMIT
INSERT INTO TCITIZENS VALUES(8,'67569789I','Garcia','direccion8','laura@gmail.com','1991-12-10','espa','Laura','llFh9oTmjUI=','Laura_laura')
COMMIT
INSERT INTO TCATEGORIA VALUES(1,'2000-01-01','2050-01-01',5,'CategoriaDefecto')
COMMIT
INSERT INTO TCATEGORIA VALUES(2,'2017-10-04','2017-01-04',5,'Categoria1')
COMMIT
INSERT INTO TCATEGORIA VALUES(3,'2017-10-12','2017-01-01',2,'Categoria2')
COMMIT
INSERT INTO TCATEGORIA VALUES(4,'2017-10-04','2017-01-04',3,'Categoria3')
COMMIT
INSERT INTO TCATEGORIA VALUES(5,'2017-10-03','2017-01-02',5,'Categoria4')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba3')
COMMIT
INSERT INTO TSUGERENCIA VALUES(1,'contenido de la primera sugerencia','Aceptada','Sugerencia1',1,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(2,'contenido de la segunda sugerencia','EnVotacion','Sugerencia2',1,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(3,'contenido de la tercera sugerencia','EnVotacion','Sugerencia3',1,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(4,'contenido de la cuarta sugerencia','EnVotacion','Sugerencia4',1,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(5,'contenido de la quinta sugerencia','EnVotacion','Sugerencia5',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(6,'contenido de la sexta sugerencia','EnVotacion','Sugerencia6',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(7,'contenido de la septima sugerencia','Anulada','Sugerencia7',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(8,'contenido de la octava sugerencia','EnVotacion','Sugerencia8',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(9,'contenido de la novena sugerencia','EnVotacion','Sugerencia9',3,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(10,'contenido de la decima sugerencia','EnVotacion','Sugerencia10',3,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(11,'contenido de la undecima sugerencia','EnVotacion','Sugerencia11',3,6)
COMMIT
INSERT INTO TSUGERENCIA VALUES(12,'contenido de la duodecima sugerencia','EnVotacion','Sugerencia12',3,7)
COMMIT
INSERT INTO TSUGERENCIA VALUES(13,'contenido de la decimotercera sugerencia','EnVotacion','Sugerencia13',1,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(14,'contenido de la decimocuarta sugerencia','EnVotacion','Sugerencia14',1,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(15,'contenido de la decimoquinta sugerencia','EnVotacion','Sugerencia15',1,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(16,'contenido de la decimosexta sugerencia','EnVotacion','Sugerencia16',1,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(17,'contenido de la decimoseptima sugerencia','Anulada','Sugerencia17',4,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(18,'contenido de la decimooctava sugerencia','Aceptada','Sugerencia18',4,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(19,'contenido de la decimonovena sugerencia','Aceptada','Sugerencia19',4,7)
COMMIT
INSERT INTO TCOMENTARIO VALUES(1,'contenido primer comentario',1,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(2,'contenido segundo comentario',2,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(3,'contenido tercer comentario',1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,5,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,6,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,7,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,8,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,5,19)
COMMIT
INSERT INTO TCATEGORIA VALUES(6,'2017-04-04','2017-04-04',5,'test')
COMMIT
INSERT INTO TSUGERENCIA VALUES(20,'sugerencia de prueba','EnVotacion','test',6,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,20)
COMMIT
DELETE FROM TSUGERENCIA WHERE ID=20
INSERT INTO TSUGERENCIA VALUES(20,'sugerencia de prueba','EnVotacion','test',NULL,1)
DELETE FROM TCATEGORIA WHERE ID=6
COMMIT
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',1,19)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,4)
COMMIT
DELETE FROM TCOMENTARIO WHERE ID=4
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',NULL,NULL)
DELETE FROM TVOTOCOMENTARIO WHERE CITIZEN_ID=1 AND COMENTARIO_ID=4
DELETE FROM TCOMENTARIO WHERE ID=4
COMMIT
DISCONNECT
/*C72*/SET SCHEMA PUBLIC
DISCONNECT
/*C73*/SET SCHEMA PUBLIC
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID
ALTER TABLE TPALABRAS DROP CONSTRAINT FK_TPALABRAS_Categoria_ID
DROP TABLE TVOTOCOMENTARIO
DROP TABLE TADMINISTRADOR
DROP TABLE TCOMENTARIO
DROP TABLE TSUGERENCIA
DROP TABLE TVOTOSUGERENCIA
DROP TABLE TCATEGORIA
DROP TABLE TCITIZENS
DROP TABLE TPALABRAS
CREATE TABLE TVOTOCOMENTARIO (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, COMENTARIO_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, COMENTARIO_ID))
CREATE TABLE TADMINISTRADOR (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCOMENTARIO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), CITIZEN_ID BIGINT, SUGERENCIA_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TSUGERENCIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), ESTADO VARCHAR(255), TITULO VARCHAR(255), CATEGORIA_ID BIGINT, CITIZEN_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TVOTOSUGERENCIA (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, SUGERENCIA_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, SUGERENCIA_ID))
CREATE TABLE TCATEGORIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, FECHAFIN DATE, FECHAINICIO DATE, MINIMOVOTOS INTEGER, NOMBRE VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCITIZENS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DNI VARCHAR(255), APELLIDOS VARCHAR(255), DIRECCION VARCHAR(255), EMAIL VARCHAR(255), FECHANACIMIENTO DATE, NACIONALIDAD VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TPALABRAS (Categoria_ID BIGINT, PALABRA VARCHAR(255))
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID FOREIGN KEY (COMENTARIO_ID) REFERENCES TCOMENTARIO (ID)
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID FOREIGN KEY (CATEGORIA_ID) REFERENCES TCATEGORIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TPALABRAS ADD CONSTRAINT FK_TPALABRAS_Categoria_ID FOREIGN KEY (Categoria_ID) REFERENCES TCATEGORIA (ID)
INSERT INTO TADMINISTRADOR VALUES(1,'admin','admin')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(2,'admin2','admin2')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(3,'admin3','admin3')
COMMIT
INSERT INTO TCITIZENS VALUES(1,'71435345N','Prada','direccion','seila@gmail.com','1996-01-15','espa','Seila','llFh9oTmjUI=','Seila_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(2,'72344554T','Prada','direccion2','seila2@gmail.com','1996-01-15','espa','Seila2','llFh9oTmjUI=','Seila2_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(3,'74564534E','Prada','direccion3','seila3@gmail.com','1996-01-15','espa','Seila3','llFh9oTmjUI=','Seila3_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(4,'45654665K','Watson','direccion4','david@gmail.com','1986-04-19','eng','David','llFh9oTmjUI=','David_david')
COMMIT
INSERT INTO TCITIZENS VALUES(5,'45654465V','Rodriguez','direccion5','borja@gmail.com','1995-07-28','espa','Borja','llFh9oTmjUI=','Borja_borja')
COMMIT
INSERT INTO TCITIZENS VALUES(6,'56767567Q','Fernandez','direccion6','ruben@gmail.com','1993-03-02','espa','Ruben','llFh9oTmjUI=','Ruben_ruben')
COMMIT
INSERT INTO TCITIZENS VALUES(7,'38769345L','Ramon','direccion7','juan@gmail.com','1994-08-21','espa','Juan','llFh9oTmjUI=','Juan_juan')
COMMIT
INSERT INTO TCITIZENS VALUES(8,'67569789I','Garcia','direccion8','laura@gmail.com','1991-12-10','espa','Laura','llFh9oTmjUI=','Laura_laura')
COMMIT
INSERT INTO TCATEGORIA VALUES(1,'2000-01-01','2050-01-01',5,'CategoriaDefecto')
COMMIT
INSERT INTO TCATEGORIA VALUES(2,'2017-10-04','2017-01-04',5,'Categoria1')
COMMIT
INSERT INTO TCATEGORIA VALUES(3,'2017-10-12','2017-01-01',2,'Categoria2')
COMMIT
INSERT INTO TCATEGORIA VALUES(4,'2017-10-04','2017-01-04',3,'Categoria3')
COMMIT
INSERT INTO TCATEGORIA VALUES(5,'2017-10-03','2017-01-02',5,'Categoria4')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba3')
COMMIT
INSERT INTO TSUGERENCIA VALUES(1,'contenido de la primera sugerencia','Aceptada','Sugerencia1',1,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(2,'contenido de la segunda sugerencia','EnVotacion','Sugerencia2',1,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(3,'contenido de la tercera sugerencia','EnVotacion','Sugerencia3',1,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(4,'contenido de la cuarta sugerencia','EnVotacion','Sugerencia4',1,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(5,'contenido de la quinta sugerencia','EnVotacion','Sugerencia5',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(6,'contenido de la sexta sugerencia','EnVotacion','Sugerencia6',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(7,'contenido de la septima sugerencia','Anulada','Sugerencia7',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(8,'contenido de la octava sugerencia','EnVotacion','Sugerencia8',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(9,'contenido de la novena sugerencia','EnVotacion','Sugerencia9',3,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(10,'contenido de la decima sugerencia','EnVotacion','Sugerencia10',3,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(11,'contenido de la undecima sugerencia','EnVotacion','Sugerencia11',3,6)
COMMIT
INSERT INTO TSUGERENCIA VALUES(12,'contenido de la duodecima sugerencia','EnVotacion','Sugerencia12',3,7)
COMMIT
INSERT INTO TSUGERENCIA VALUES(13,'contenido de la decimotercera sugerencia','EnVotacion','Sugerencia13',1,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(14,'contenido de la decimocuarta sugerencia','EnVotacion','Sugerencia14',1,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(15,'contenido de la decimoquinta sugerencia','EnVotacion','Sugerencia15',1,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(16,'contenido de la decimosexta sugerencia','EnVotacion','Sugerencia16',1,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(17,'contenido de la decimoseptima sugerencia','Anulada','Sugerencia17',4,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(18,'contenido de la decimooctava sugerencia','Aceptada','Sugerencia18',4,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(19,'contenido de la decimonovena sugerencia','Aceptada','Sugerencia19',4,7)
COMMIT
INSERT INTO TCOMENTARIO VALUES(1,'contenido primer comentario',1,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(2,'contenido segundo comentario',2,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(3,'contenido tercer comentario',1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,5,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,6,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,7,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,8,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,5,19)
COMMIT
INSERT INTO TCATEGORIA VALUES(6,'2017-04-04','2017-04-04',5,'test')
INSERT INTO TPALABRAS VALUES(6,'qweqweqw')
COMMIT
INSERT INTO TSUGERENCIA VALUES(20,'sugerencia de prueba','EnVotacion','test',6,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,20)
COMMIT
DELETE FROM TSUGERENCIA WHERE ID=20
INSERT INTO TSUGERENCIA VALUES(20,'sugerencia de prueba','EnVotacion','test',1,1)
DELETE FROM TPALABRAS WHERE CATEGORIA_ID=6 AND PALABRA='qweqweqw'
DELETE FROM TCATEGORIA WHERE ID=6
COMMIT
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',1,19)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,4)
COMMIT
DELETE FROM TCOMENTARIO WHERE ID=4
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',NULL,NULL)
DELETE FROM TVOTOCOMENTARIO WHERE CITIZEN_ID=1 AND COMENTARIO_ID=4
DELETE FROM TCOMENTARIO WHERE ID=4
COMMIT
DISCONNECT
/*C74*/SET SCHEMA PUBLIC
DISCONNECT
/*C75*/SET SCHEMA PUBLIC
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID
ALTER TABLE TPALABRAS DROP CONSTRAINT FK_TPALABRAS_Categoria_ID
DROP TABLE TVOTOCOMENTARIO
DROP TABLE TADMINISTRADOR
DROP TABLE TCOMENTARIO
DROP TABLE TSUGERENCIA
DROP TABLE TVOTOSUGERENCIA
DROP TABLE TCATEGORIA
DROP TABLE TCITIZENS
DROP TABLE TPALABRAS
CREATE TABLE TVOTOCOMENTARIO (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, COMENTARIO_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, COMENTARIO_ID))
CREATE TABLE TADMINISTRADOR (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCOMENTARIO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), CITIZEN_ID BIGINT, SUGERENCIA_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TSUGERENCIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), ESTADO VARCHAR(255), TITULO VARCHAR(255), CATEGORIA_ID BIGINT, CITIZEN_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TVOTOSUGERENCIA (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, SUGERENCIA_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, SUGERENCIA_ID))
CREATE TABLE TCATEGORIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, FECHAFIN DATE, FECHAINICIO DATE, MINIMOVOTOS INTEGER, NOMBRE VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCITIZENS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DNI VARCHAR(255), APELLIDOS VARCHAR(255), DIRECCION VARCHAR(255), EMAIL VARCHAR(255), FECHANACIMIENTO DATE, NACIONALIDAD VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TPALABRAS (Categoria_ID BIGINT, PALABRA VARCHAR(255))
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID FOREIGN KEY (COMENTARIO_ID) REFERENCES TCOMENTARIO (ID)
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID FOREIGN KEY (CATEGORIA_ID) REFERENCES TCATEGORIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TPALABRAS ADD CONSTRAINT FK_TPALABRAS_Categoria_ID FOREIGN KEY (Categoria_ID) REFERENCES TCATEGORIA (ID)
INSERT INTO TADMINISTRADOR VALUES(1,'admin','admin')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(2,'admin2','admin2')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(3,'admin3','admin3')
COMMIT
INSERT INTO TCITIZENS VALUES(1,'71435345N','Prada','direccion','seila@gmail.com','1996-01-15','espa','Seila','llFh9oTmjUI=','Seila_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(2,'72344554T','Prada','direccion2','seila2@gmail.com','1996-01-15','espa','Seila2','llFh9oTmjUI=','Seila2_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(3,'74564534E','Prada','direccion3','seila3@gmail.com','1996-01-15','espa','Seila3','llFh9oTmjUI=','Seila3_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(4,'45654665K','Watson','direccion4','david@gmail.com','1986-04-19','eng','David','llFh9oTmjUI=','David_david')
COMMIT
INSERT INTO TCITIZENS VALUES(5,'45654465V','Rodriguez','direccion5','borja@gmail.com','1995-07-28','espa','Borja','llFh9oTmjUI=','Borja_borja')
COMMIT
INSERT INTO TCITIZENS VALUES(6,'56767567Q','Fernandez','direccion6','ruben@gmail.com','1993-03-02','espa','Ruben','llFh9oTmjUI=','Ruben_ruben')
COMMIT
INSERT INTO TCITIZENS VALUES(7,'38769345L','Ramon','direccion7','juan@gmail.com','1994-08-21','espa','Juan','llFh9oTmjUI=','Juan_juan')
COMMIT
INSERT INTO TCITIZENS VALUES(8,'67569789I','Garcia','direccion8','laura@gmail.com','1991-12-10','espa','Laura','llFh9oTmjUI=','Laura_laura')
COMMIT
INSERT INTO TCATEGORIA VALUES(1,'2000-01-01','2050-01-01',5,'CategoriaDefecto')
COMMIT
INSERT INTO TCATEGORIA VALUES(2,'2017-10-04','2017-01-04',5,'Categoria1')
COMMIT
INSERT INTO TCATEGORIA VALUES(3,'2017-10-12','2017-01-01',2,'Categoria2')
COMMIT
INSERT INTO TCATEGORIA VALUES(4,'2017-10-04','2017-01-04',3,'Categoria3')
COMMIT
INSERT INTO TCATEGORIA VALUES(5,'2017-10-03','2017-01-02',5,'Categoria4')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba3')
COMMIT
INSERT INTO TSUGERENCIA VALUES(1,'contenido de la primera sugerencia','Aceptada','Sugerencia1',1,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(2,'contenido de la segunda sugerencia','EnVotacion','Sugerencia2',1,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(3,'contenido de la tercera sugerencia','EnVotacion','Sugerencia3',1,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(4,'contenido de la cuarta sugerencia','EnVotacion','Sugerencia4',1,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(5,'contenido de la quinta sugerencia','EnVotacion','Sugerencia5',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(6,'contenido de la sexta sugerencia','EnVotacion','Sugerencia6',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(7,'contenido de la septima sugerencia','Anulada','Sugerencia7',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(8,'contenido de la octava sugerencia','EnVotacion','Sugerencia8',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(9,'contenido de la novena sugerencia','EnVotacion','Sugerencia9',3,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(10,'contenido de la decima sugerencia','EnVotacion','Sugerencia10',3,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(11,'contenido de la undecima sugerencia','EnVotacion','Sugerencia11',3,6)
COMMIT
INSERT INTO TSUGERENCIA VALUES(12,'contenido de la duodecima sugerencia','EnVotacion','Sugerencia12',3,7)
COMMIT
INSERT INTO TSUGERENCIA VALUES(13,'contenido de la decimotercera sugerencia','EnVotacion','Sugerencia13',1,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(14,'contenido de la decimocuarta sugerencia','EnVotacion','Sugerencia14',1,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(15,'contenido de la decimoquinta sugerencia','EnVotacion','Sugerencia15',1,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(16,'contenido de la decimosexta sugerencia','EnVotacion','Sugerencia16',1,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(17,'contenido de la decimoseptima sugerencia','Anulada','Sugerencia17',4,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(18,'contenido de la decimooctava sugerencia','Aceptada','Sugerencia18',4,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(19,'contenido de la decimonovena sugerencia','Aceptada','Sugerencia19',4,7)
COMMIT
INSERT INTO TCOMENTARIO VALUES(1,'contenido primer comentario',1,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(2,'contenido segundo comentario',2,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(3,'contenido tercer comentario',1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,5,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,6,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,7,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,8,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,5,19)
COMMIT
INSERT INTO TCATEGORIA VALUES(6,'2017-04-04','2017-04-04',5,'test')
INSERT INTO TPALABRAS VALUES(6,'qweqweqw')
COMMIT
INSERT INTO TSUGERENCIA VALUES(20,'sugerencia de prueba','EnVotacion','test',6,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,20)
COMMIT
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',1,19)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,4)
COMMIT
DELETE FROM TCOMENTARIO WHERE ID=4
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',NULL,NULL)
DELETE FROM TVOTOCOMENTARIO WHERE CITIZEN_ID=1 AND COMENTARIO_ID=4
DELETE FROM TCOMENTARIO WHERE ID=4
COMMIT
DISCONNECT
/*C76*/SET SCHEMA PUBLIC
DISCONNECT
/*C77*/SET SCHEMA PUBLIC
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID
ALTER TABLE TPALABRAS DROP CONSTRAINT FK_TPALABRAS_Categoria_ID
DROP TABLE TVOTOCOMENTARIO
DROP TABLE TADMINISTRADOR
DROP TABLE TCOMENTARIO
DROP TABLE TSUGERENCIA
DROP TABLE TVOTOSUGERENCIA
DROP TABLE TCATEGORIA
DROP TABLE TCITIZENS
DROP TABLE TPALABRAS
CREATE TABLE TVOTOCOMENTARIO (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, COMENTARIO_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, COMENTARIO_ID))
CREATE TABLE TADMINISTRADOR (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCOMENTARIO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), CITIZEN_ID BIGINT, SUGERENCIA_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TSUGERENCIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), ESTADO VARCHAR(255), TITULO VARCHAR(255), CATEGORIA_ID BIGINT, CITIZEN_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TVOTOSUGERENCIA (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, SUGERENCIA_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, SUGERENCIA_ID))
CREATE TABLE TCATEGORIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, FECHAFIN DATE, FECHAINICIO DATE, MINIMOVOTOS INTEGER, NOMBRE VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCITIZENS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DNI VARCHAR(255), APELLIDOS VARCHAR(255), DIRECCION VARCHAR(255), EMAIL VARCHAR(255), FECHANACIMIENTO DATE, NACIONALIDAD VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TPALABRAS (Categoria_ID BIGINT, PALABRA VARCHAR(255))
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID FOREIGN KEY (COMENTARIO_ID) REFERENCES TCOMENTARIO (ID)
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID FOREIGN KEY (CATEGORIA_ID) REFERENCES TCATEGORIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TPALABRAS ADD CONSTRAINT FK_TPALABRAS_Categoria_ID FOREIGN KEY (Categoria_ID) REFERENCES TCATEGORIA (ID)
INSERT INTO TADMINISTRADOR VALUES(1,'admin','admin')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(2,'admin2','admin2')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(3,'admin3','admin3')
COMMIT
INSERT INTO TCITIZENS VALUES(1,'71435345N','Prada','direccion','seila@gmail.com','1996-01-15','espa','Seila','llFh9oTmjUI=','Seila_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(2,'72344554T','Prada','direccion2','seila2@gmail.com','1996-01-15','espa','Seila2','llFh9oTmjUI=','Seila2_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(3,'74564534E','Prada','direccion3','seila3@gmail.com','1996-01-15','espa','Seila3','llFh9oTmjUI=','Seila3_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(4,'45654665K','Watson','direccion4','david@gmail.com','1986-04-19','eng','David','llFh9oTmjUI=','David_david')
COMMIT
INSERT INTO TCITIZENS VALUES(5,'45654465V','Rodriguez','direccion5','borja@gmail.com','1995-07-28','espa','Borja','llFh9oTmjUI=','Borja_borja')
COMMIT
INSERT INTO TCITIZENS VALUES(6,'56767567Q','Fernandez','direccion6','ruben@gmail.com','1993-03-02','espa','Ruben','llFh9oTmjUI=','Ruben_ruben')
COMMIT
INSERT INTO TCITIZENS VALUES(7,'38769345L','Ramon','direccion7','juan@gmail.com','1994-08-21','espa','Juan','llFh9oTmjUI=','Juan_juan')
COMMIT
INSERT INTO TCITIZENS VALUES(8,'67569789I','Garcia','direccion8','laura@gmail.com','1991-12-10','espa','Laura','llFh9oTmjUI=','Laura_laura')
COMMIT
INSERT INTO TCATEGORIA VALUES(1,'2000-01-01','2050-01-01',5,'CategoriaDefecto')
COMMIT
INSERT INTO TCATEGORIA VALUES(2,'2017-10-04','2017-01-04',5,'Categoria1')
COMMIT
INSERT INTO TCATEGORIA VALUES(3,'2017-10-12','2017-01-01',2,'Categoria2')
COMMIT
INSERT INTO TCATEGORIA VALUES(4,'2017-10-04','2017-01-04',3,'Categoria3')
COMMIT
INSERT INTO TCATEGORIA VALUES(5,'2017-10-03','2017-01-02',5,'Categoria4')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba3')
COMMIT
INSERT INTO TSUGERENCIA VALUES(1,'contenido de la primera sugerencia','Aceptada','Sugerencia1',1,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(2,'contenido de la segunda sugerencia','EnVotacion','Sugerencia2',1,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(3,'contenido de la tercera sugerencia','EnVotacion','Sugerencia3',1,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(4,'contenido de la cuarta sugerencia','EnVotacion','Sugerencia4',1,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(5,'contenido de la quinta sugerencia','EnVotacion','Sugerencia5',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(6,'contenido de la sexta sugerencia','EnVotacion','Sugerencia6',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(7,'contenido de la septima sugerencia','Anulada','Sugerencia7',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(8,'contenido de la octava sugerencia','EnVotacion','Sugerencia8',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(9,'contenido de la novena sugerencia','EnVotacion','Sugerencia9',3,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(10,'contenido de la decima sugerencia','EnVotacion','Sugerencia10',3,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(11,'contenido de la undecima sugerencia','EnVotacion','Sugerencia11',3,6)
COMMIT
INSERT INTO TSUGERENCIA VALUES(12,'contenido de la duodecima sugerencia','EnVotacion','Sugerencia12',3,7)
COMMIT
INSERT INTO TSUGERENCIA VALUES(13,'contenido de la decimotercera sugerencia','EnVotacion','Sugerencia13',1,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(14,'contenido de la decimocuarta sugerencia','EnVotacion','Sugerencia14',1,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(15,'contenido de la decimoquinta sugerencia','EnVotacion','Sugerencia15',1,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(16,'contenido de la decimosexta sugerencia','EnVotacion','Sugerencia16',1,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(17,'contenido de la decimoseptima sugerencia','Anulada','Sugerencia17',4,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(18,'contenido de la decimooctava sugerencia','Aceptada','Sugerencia18',4,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(19,'contenido de la decimonovena sugerencia','Aceptada','Sugerencia19',4,7)
COMMIT
INSERT INTO TCOMENTARIO VALUES(1,'contenido primer comentario',1,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(2,'contenido segundo comentario',2,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(3,'contenido tercer comentario',1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,5,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,6,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,7,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,8,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,5,19)
COMMIT
INSERT INTO TCATEGORIA VALUES(6,'2017-04-04','2017-04-04',5,'test')
INSERT INTO TPALABRAS VALUES(6,'qweqweqw')
COMMIT
INSERT INTO TSUGERENCIA VALUES(20,'sugerencia de prueba','EnVotacion','test',6,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,20)
COMMIT
DELETE FROM TSUGERENCIA WHERE ID=20
INSERT INTO TSUGERENCIA VALUES(20,'sugerencia de prueba','EnVotacion','test',1,1)
DELETE FROM TPALABRAS WHERE CATEGORIA_ID=6 AND PALABRA='qweqweqw'
DELETE FROM TCATEGORIA WHERE ID=6
COMMIT
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',1,19)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,4)
COMMIT
DELETE FROM TCOMENTARIO WHERE ID=4
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',NULL,NULL)
DELETE FROM TVOTOCOMENTARIO WHERE CITIZEN_ID=1 AND COMENTARIO_ID=4
DELETE FROM TCOMENTARIO WHERE ID=4
COMMIT
DISCONNECT
/*C78*/SET SCHEMA PUBLIC
DISCONNECT
/*C79*/SET SCHEMA PUBLIC
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID
ALTER TABLE TPALABRAS DROP CONSTRAINT FK_TPALABRAS_Categoria_ID
DROP TABLE TVOTOCOMENTARIO
DROP TABLE TADMINISTRADOR
DROP TABLE TCOMENTARIO
DROP TABLE TSUGERENCIA
DROP TABLE TVOTOSUGERENCIA
DROP TABLE TCATEGORIA
DROP TABLE TCITIZENS
DROP TABLE TPALABRAS
CREATE TABLE TVOTOCOMENTARIO (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, COMENTARIO_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, COMENTARIO_ID))
CREATE TABLE TADMINISTRADOR (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCOMENTARIO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), CITIZEN_ID BIGINT, SUGERENCIA_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TSUGERENCIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), ESTADO VARCHAR(255), TITULO VARCHAR(255), CATEGORIA_ID BIGINT, CITIZEN_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TVOTOSUGERENCIA (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, SUGERENCIA_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, SUGERENCIA_ID))
CREATE TABLE TCATEGORIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, FECHAFIN DATE, FECHAINICIO DATE, MINIMOVOTOS INTEGER, NOMBRE VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCITIZENS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DNI VARCHAR(255), APELLIDOS VARCHAR(255), DIRECCION VARCHAR(255), EMAIL VARCHAR(255), FECHANACIMIENTO DATE, NACIONALIDAD VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TPALABRAS (Categoria_ID BIGINT, PALABRA VARCHAR(255))
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID FOREIGN KEY (COMENTARIO_ID) REFERENCES TCOMENTARIO (ID)
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID FOREIGN KEY (CATEGORIA_ID) REFERENCES TCATEGORIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TPALABRAS ADD CONSTRAINT FK_TPALABRAS_Categoria_ID FOREIGN KEY (Categoria_ID) REFERENCES TCATEGORIA (ID)
INSERT INTO TADMINISTRADOR VALUES(1,'admin','admin')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(2,'admin2','admin2')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(3,'admin3','admin3')
COMMIT
INSERT INTO TCITIZENS VALUES(1,'71435345N','Prada','direccion','seila@gmail.com','1996-01-15','espa','Seila','llFh9oTmjUI=','Seila_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(2,'72344554T','Prada','direccion2','seila2@gmail.com','1996-01-15','espa','Seila2','llFh9oTmjUI=','Seila2_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(3,'74564534E','Prada','direccion3','seila3@gmail.com','1996-01-15','espa','Seila3','llFh9oTmjUI=','Seila3_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(4,'45654665K','Watson','direccion4','david@gmail.com','1986-04-19','eng','David','llFh9oTmjUI=','David_david')
COMMIT
INSERT INTO TCITIZENS VALUES(5,'45654465V','Rodriguez','direccion5','borja@gmail.com','1995-07-28','espa','Borja','llFh9oTmjUI=','Borja_borja')
COMMIT
INSERT INTO TCITIZENS VALUES(6,'56767567Q','Fernandez','direccion6','ruben@gmail.com','1993-03-02','espa','Ruben','llFh9oTmjUI=','Ruben_ruben')
COMMIT
INSERT INTO TCITIZENS VALUES(7,'38769345L','Ramon','direccion7','juan@gmail.com','1994-08-21','espa','Juan','llFh9oTmjUI=','Juan_juan')
COMMIT
INSERT INTO TCITIZENS VALUES(8,'67569789I','Garcia','direccion8','laura@gmail.com','1991-12-10','espa','Laura','llFh9oTmjUI=','Laura_laura')
COMMIT
INSERT INTO TCATEGORIA VALUES(1,'2000-01-01','2050-01-01',5,'CategoriaDefecto')
COMMIT
INSERT INTO TCATEGORIA VALUES(2,'2017-10-04','2017-01-04',5,'Categoria1')
COMMIT
INSERT INTO TCATEGORIA VALUES(3,'2017-10-12','2017-01-01',2,'Categoria2')
COMMIT
INSERT INTO TCATEGORIA VALUES(4,'2017-10-04','2017-01-04',3,'Categoria3')
COMMIT
INSERT INTO TCATEGORIA VALUES(5,'2017-10-03','2017-01-02',5,'Categoria4')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(1,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba3')
COMMIT
INSERT INTO TSUGERENCIA VALUES(1,'contenido de la primera sugerencia','Aceptada','Sugerencia1',1,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(2,'contenido de la segunda sugerencia','EnVotacion','Sugerencia2',1,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(3,'contenido de la tercera sugerencia','EnVotacion','Sugerencia3',1,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(4,'contenido de la cuarta sugerencia','EnVotacion','Sugerencia4',1,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(5,'contenido de la quinta sugerencia','EnVotacion','Sugerencia5',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(6,'contenido de la sexta sugerencia','EnVotacion','Sugerencia6',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(7,'contenido de la septima sugerencia','Anulada','Sugerencia7',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(8,'contenido de la octava sugerencia','EnVotacion','Sugerencia8',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(9,'contenido de la novena sugerencia','EnVotacion','Sugerencia9',3,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(10,'contenido de la decima sugerencia','EnVotacion','Sugerencia10',3,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(11,'contenido de la undecima sugerencia','EnVotacion','Sugerencia11',3,6)
COMMIT
INSERT INTO TSUGERENCIA VALUES(12,'contenido de la duodecima sugerencia','EnVotacion','Sugerencia12',3,7)
COMMIT
INSERT INTO TSUGERENCIA VALUES(13,'contenido de la decimotercera sugerencia','EnVotacion','Sugerencia13',1,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(14,'contenido de la decimocuarta sugerencia','EnVotacion','Sugerencia14',1,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(15,'contenido de la decimoquinta sugerencia','EnVotacion','Sugerencia15',1,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(16,'contenido de la decimosexta sugerencia','EnVotacion','Sugerencia16',1,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(17,'contenido de la decimoseptima sugerencia','Anulada','Sugerencia17',4,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(18,'contenido de la decimooctava sugerencia','Aceptada','Sugerencia18',4,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(19,'contenido de la decimonovena sugerencia','Aceptada','Sugerencia19',4,7)
COMMIT
INSERT INTO TCOMENTARIO VALUES(1,'contenido primer comentario',1,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(2,'contenido segundo comentario',2,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(3,'contenido tercer comentario',1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,5,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,6,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,7,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,8,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,5,19)
COMMIT
INSERT INTO TCATEGORIA VALUES(6,'2017-04-04','2017-04-04',5,'test')
INSERT INTO TPALABRAS VALUES(6,'qweqweqw')
COMMIT
INSERT INTO TSUGERENCIA VALUES(20,'sugerencia de prueba','EnVotacion','test',6,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,20)
COMMIT
DELETE FROM TSUGERENCIA WHERE ID=20
INSERT INTO TSUGERENCIA VALUES(20,'sugerencia de prueba','EnVotacion','test',1,1)
DELETE FROM TPALABRAS WHERE CATEGORIA_ID=6 AND PALABRA='qweqweqw'
DELETE FROM TCATEGORIA WHERE ID=6
COMMIT
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',1,19)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,4)
COMMIT
DELETE FROM TCOMENTARIO WHERE ID=4
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',NULL,NULL)
DELETE FROM TVOTOCOMENTARIO WHERE CITIZEN_ID=1 AND COMENTARIO_ID=4
DELETE FROM TCOMENTARIO WHERE ID=4
COMMIT
DISCONNECT
/*C80*/SET SCHEMA PUBLIC
DISCONNECT
/*C81*/SET SCHEMA PUBLIC
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID
ALTER TABLE TPALABRAS DROP CONSTRAINT FK_TPALABRAS_Categoria_ID
DROP TABLE TVOTOCOMENTARIO
DROP TABLE TADMINISTRADOR
DROP TABLE TCOMENTARIO
DROP TABLE TSUGERENCIA
DROP TABLE TVOTOSUGERENCIA
DROP TABLE TCATEGORIA
DROP TABLE TCITIZENS
DROP TABLE TPALABRAS
CREATE TABLE TVOTOCOMENTARIO (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, COMENTARIO_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, COMENTARIO_ID))
CREATE TABLE TADMINISTRADOR (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCOMENTARIO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), CITIZEN_ID BIGINT, SUGERENCIA_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TSUGERENCIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), ESTADO VARCHAR(255), TITULO VARCHAR(255), CATEGORIA_ID BIGINT, CITIZEN_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TVOTOSUGERENCIA (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, SUGERENCIA_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, SUGERENCIA_ID))
CREATE TABLE TCATEGORIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, FECHAFIN DATE, FECHAINICIO DATE, MINIMOVOTOS INTEGER, NOMBRE VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCITIZENS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DNI VARCHAR(255), APELLIDOS VARCHAR(255), DIRECCION VARCHAR(255), EMAIL VARCHAR(255), FECHANACIMIENTO DATE, NACIONALIDAD VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TPALABRAS (Categoria_ID BIGINT, PALABRA VARCHAR(255))
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID FOREIGN KEY (COMENTARIO_ID) REFERENCES TCOMENTARIO (ID)
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID FOREIGN KEY (CATEGORIA_ID) REFERENCES TCATEGORIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TPALABRAS ADD CONSTRAINT FK_TPALABRAS_Categoria_ID FOREIGN KEY (Categoria_ID) REFERENCES TCATEGORIA (ID)
INSERT INTO TADMINISTRADOR VALUES(1,'admin','admin')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(2,'admin2','admin2')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(3,'admin3','admin3')
COMMIT
INSERT INTO TCITIZENS VALUES(1,'71435345N','Prada','direccion','seila@gmail.com','1996-01-15','espa','Seila','llFh9oTmjUI=','Seila_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(2,'72344554T','Prada','direccion2','seila2@gmail.com','1996-01-15','espa','Seila2','llFh9oTmjUI=','Seila2_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(3,'74564534E','Prada','direccion3','seila3@gmail.com','1996-01-15','espa','Seila3','llFh9oTmjUI=','Seila3_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(4,'45654665K','Watson','direccion4','david@gmail.com','1986-04-19','eng','David','llFh9oTmjUI=','David_david')
COMMIT
INSERT INTO TCITIZENS VALUES(5,'45654465V','Rodriguez','direccion5','borja@gmail.com','1995-07-28','espa','Borja','llFh9oTmjUI=','Borja_borja')
COMMIT
INSERT INTO TCITIZENS VALUES(6,'56767567Q','Fernandez','direccion6','ruben@gmail.com','1993-03-02','espa','Ruben','llFh9oTmjUI=','Ruben_ruben')
COMMIT
INSERT INTO TCITIZENS VALUES(7,'38769345L','Ramon','direccion7','juan@gmail.com','1994-08-21','espa','Juan','llFh9oTmjUI=','Juan_juan')
COMMIT
INSERT INTO TCITIZENS VALUES(8,'67569789I','Garcia','direccion8','laura@gmail.com','1991-12-10','espa','Laura','llFh9oTmjUI=','Laura_laura')
COMMIT
INSERT INTO TCATEGORIA VALUES(1,'2000-01-01','2050-01-01',5,'CategoriaDefecto')
COMMIT
INSERT INTO TCATEGORIA VALUES(2,'2017-10-04','2017-01-04',5,'Categoria1')
COMMIT
INSERT INTO TCATEGORIA VALUES(3,'2017-10-12','2017-01-01',2,'Categoria2')
COMMIT
INSERT INTO TCATEGORIA VALUES(4,'2017-10-04','2017-01-04',3,'Categoria3')
COMMIT
INSERT INTO TCATEGORIA VALUES(5,'2017-10-03','2017-01-02',5,'Categoria4')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(5,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(5,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(5,'prueba3')
COMMIT
INSERT INTO TSUGERENCIA VALUES(1,'contenido de la primera sugerencia','Aceptada','Sugerencia1',5,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(2,'contenido de la segunda sugerencia','EnVotacion','Sugerencia2',5,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(3,'contenido de la tercera sugerencia','EnVotacion','Sugerencia3',5,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(4,'contenido de la cuarta sugerencia','EnVotacion','Sugerencia4',5,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(5,'contenido de la quinta sugerencia','EnVotacion','Sugerencia5',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(6,'contenido de la sexta sugerencia','EnVotacion','Sugerencia6',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(7,'contenido de la septima sugerencia','Anulada','Sugerencia7',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(8,'contenido de la octava sugerencia','EnVotacion','Sugerencia8',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(9,'contenido de la novena sugerencia','EnVotacion','Sugerencia9',3,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(10,'contenido de la decima sugerencia','EnVotacion','Sugerencia10',3,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(11,'contenido de la undecima sugerencia','EnVotacion','Sugerencia11',3,6)
COMMIT
INSERT INTO TSUGERENCIA VALUES(12,'contenido de la duodecima sugerencia','EnVotacion','Sugerencia12',3,7)
COMMIT
INSERT INTO TSUGERENCIA VALUES(13,'contenido de la decimotercera sugerencia','EnVotacion','Sugerencia13',5,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(14,'contenido de la decimocuarta sugerencia','EnVotacion','Sugerencia14',5,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(15,'contenido de la decimoquinta sugerencia','EnVotacion','Sugerencia15',4,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(16,'contenido de la decimosexta sugerencia','EnVotacion','Sugerencia16',4,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(17,'contenido de la decimoseptima sugerencia','Anulada','Sugerencia17',4,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(18,'contenido de la decimooctava sugerencia','Aceptada','Sugerencia18',4,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(19,'contenido de la decimonovena sugerencia','Aceptada','Sugerencia19',4,7)
COMMIT
INSERT INTO TCOMENTARIO VALUES(1,'contenido primer comentario',1,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(2,'contenido segundo comentario',2,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(3,'contenido tercer comentario',1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,5,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,6,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,7,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,8,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,5,19)
COMMIT
INSERT INTO TCATEGORIA VALUES(6,'2017-04-04','2017-04-04',5,'test')
INSERT INTO TPALABRAS VALUES(6,'qweqweqw')
COMMIT
INSERT INTO TSUGERENCIA VALUES(20,'sugerencia de prueba','EnVotacion','test',6,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,20)
COMMIT
DELETE FROM TSUGERENCIA WHERE ID=20
INSERT INTO TSUGERENCIA VALUES(20,'sugerencia de prueba','EnVotacion','test',1,1)
DELETE FROM TPALABRAS WHERE CATEGORIA_ID=6 AND PALABRA='qweqweqw'
DELETE FROM TCATEGORIA WHERE ID=6
COMMIT
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',1,19)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,4)
COMMIT
DELETE FROM TCOMENTARIO WHERE ID=4
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',NULL,NULL)
DELETE FROM TVOTOCOMENTARIO WHERE CITIZEN_ID=1 AND COMENTARIO_ID=4
DELETE FROM TCOMENTARIO WHERE ID=4
COMMIT
DISCONNECT
/*C82*/SET SCHEMA PUBLIC
DISCONNECT
/*C83*/SET SCHEMA PUBLIC
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID
ALTER TABLE TPALABRAS DROP CONSTRAINT FK_TPALABRAS_Categoria_ID
DROP TABLE TVOTOCOMENTARIO
DROP TABLE TADMINISTRADOR
DROP TABLE TCOMENTARIO
DROP TABLE TSUGERENCIA
DROP TABLE TVOTOSUGERENCIA
DROP TABLE TCATEGORIA
DROP TABLE TCITIZENS
DROP TABLE TPALABRAS
CREATE TABLE TVOTOCOMENTARIO (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, COMENTARIO_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, COMENTARIO_ID))
CREATE TABLE TADMINISTRADOR (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCOMENTARIO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), CITIZEN_ID BIGINT, SUGERENCIA_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TSUGERENCIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), ESTADO VARCHAR(255), TITULO VARCHAR(255), CATEGORIA_ID BIGINT, CITIZEN_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TVOTOSUGERENCIA (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, SUGERENCIA_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, SUGERENCIA_ID))
CREATE TABLE TCATEGORIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, FECHAFIN DATE, FECHAINICIO DATE, MINIMOVOTOS INTEGER, NOMBRE VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCITIZENS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DNI VARCHAR(255), APELLIDOS VARCHAR(255), DIRECCION VARCHAR(255), EMAIL VARCHAR(255), FECHANACIMIENTO DATE, NACIONALIDAD VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TPALABRAS (Categoria_ID BIGINT, PALABRA VARCHAR(255))
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID FOREIGN KEY (COMENTARIO_ID) REFERENCES TCOMENTARIO (ID)
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID FOREIGN KEY (CATEGORIA_ID) REFERENCES TCATEGORIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TPALABRAS ADD CONSTRAINT FK_TPALABRAS_Categoria_ID FOREIGN KEY (Categoria_ID) REFERENCES TCATEGORIA (ID)
INSERT INTO TADMINISTRADOR VALUES(1,'admin','admin')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(2,'admin2','admin2')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(3,'admin3','admin3')
COMMIT
INSERT INTO TCITIZENS VALUES(1,'71435345N','Prada','direccion','seila@gmail.com','1996-01-15','espa','Seila','llFh9oTmjUI=','Seila_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(2,'72344554T','Prada','direccion2','seila2@gmail.com','1996-01-15','espa','Seila2','llFh9oTmjUI=','Seila2_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(3,'74564534E','Prada','direccion3','seila3@gmail.com','1996-01-15','espa','Seila3','llFh9oTmjUI=','Seila3_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(4,'45654665K','Watson','direccion4','david@gmail.com','1986-04-19','eng','David','llFh9oTmjUI=','David_david')
COMMIT
INSERT INTO TCITIZENS VALUES(5,'45654465V','Rodriguez','direccion5','borja@gmail.com','1995-07-28','espa','Borja','llFh9oTmjUI=','Borja_borja')
COMMIT
INSERT INTO TCITIZENS VALUES(6,'56767567Q','Fernandez','direccion6','ruben@gmail.com','1993-03-02','espa','Ruben','llFh9oTmjUI=','Ruben_ruben')
COMMIT
INSERT INTO TCITIZENS VALUES(7,'38769345L','Ramon','direccion7','juan@gmail.com','1994-08-21','espa','Juan','llFh9oTmjUI=','Juan_juan')
COMMIT
INSERT INTO TCITIZENS VALUES(8,'67569789I','Garcia','direccion8','laura@gmail.com','1991-12-10','espa','Laura','llFh9oTmjUI=','Laura_laura')
COMMIT
INSERT INTO TCATEGORIA VALUES(1,'2000-01-01','2050-01-01',5,'CategoriaDefecto')
COMMIT
INSERT INTO TCATEGORIA VALUES(2,'2017-10-04','2017-01-04',5,'Categoria1')
COMMIT
INSERT INTO TCATEGORIA VALUES(3,'2017-10-12','2017-01-01',2,'Categoria2')
COMMIT
INSERT INTO TCATEGORIA VALUES(4,'2017-10-04','2017-01-04',3,'Categoria3')
COMMIT
INSERT INTO TCATEGORIA VALUES(5,'2017-10-03','2017-01-02',5,'Categoria4')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(5,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(5,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(5,'prueba3')
COMMIT
INSERT INTO TSUGERENCIA VALUES(1,'contenido de la primera sugerencia','Aceptada','Sugerencia1',5,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(2,'contenido de la segunda sugerencia','EnVotacion','Sugerencia2',5,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(3,'contenido de la tercera sugerencia','EnVotacion','Sugerencia3',5,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(4,'contenido de la cuarta sugerencia','EnVotacion','Sugerencia4',5,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(5,'contenido de la quinta sugerencia','EnVotacion','Sugerencia5',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(6,'contenido de la sexta sugerencia','EnVotacion','Sugerencia6',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(7,'contenido de la septima sugerencia','Anulada','Sugerencia7',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(8,'contenido de la octava sugerencia','EnVotacion','Sugerencia8',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(9,'contenido de la novena sugerencia','EnVotacion','Sugerencia9',3,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(10,'contenido de la decima sugerencia','EnVotacion','Sugerencia10',3,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(11,'contenido de la undecima sugerencia','EnVotacion','Sugerencia11',3,6)
COMMIT
INSERT INTO TSUGERENCIA VALUES(12,'contenido de la duodecima sugerencia','EnVotacion','Sugerencia12',3,7)
COMMIT
INSERT INTO TSUGERENCIA VALUES(13,'contenido de la decimotercera sugerencia','EnVotacion','Sugerencia13',5,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(14,'contenido de la decimocuarta sugerencia','EnVotacion','Sugerencia14',5,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(15,'contenido de la decimoquinta sugerencia','EnVotacion','Sugerencia15',4,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(16,'contenido de la decimosexta sugerencia','EnVotacion','Sugerencia16',4,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(17,'contenido de la decimoseptima sugerencia','Anulada','Sugerencia17',4,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(18,'contenido de la decimooctava sugerencia','Aceptada','Sugerencia18',4,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(19,'contenido de la decimonovena sugerencia','Aceptada','Sugerencia19',4,7)
COMMIT
INSERT INTO TCOMENTARIO VALUES(1,'contenido primer comentario',1,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(2,'contenido segundo comentario',2,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(3,'contenido tercer comentario',1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,5,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,6,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,7,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,8,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,5,19)
COMMIT
INSERT INTO TCATEGORIA VALUES(6,'2017-04-04','2017-04-04',5,'test')
INSERT INTO TPALABRAS VALUES(6,'qweqweqw')
COMMIT
INSERT INTO TSUGERENCIA VALUES(20,'sugerencia de prueba','EnVotacion','test',6,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,20)
COMMIT
DELETE FROM TSUGERENCIA WHERE ID=20
INSERT INTO TSUGERENCIA VALUES(20,'sugerencia de prueba','EnVotacion','test',1,1)
DELETE FROM TPALABRAS WHERE CATEGORIA_ID=6 AND PALABRA='qweqweqw'
DELETE FROM TCATEGORIA WHERE ID=6
COMMIT
DELETE FROM TSUGERENCIA WHERE ID=20
INSERT INTO TSUGERENCIA VALUES(20,'sugerencia de prueba','EnVotacion','test',NULL,NULL)
DELETE FROM TVOTOSUGERENCIA WHERE CITIZEN_ID=1 AND SUGERENCIA_ID=20
DELETE FROM TSUGERENCIA WHERE ID=20
COMMIT
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',1,19)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,4)
COMMIT
DELETE FROM TCOMENTARIO WHERE ID=4
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',NULL,NULL)
DELETE FROM TVOTOCOMENTARIO WHERE CITIZEN_ID=1 AND COMENTARIO_ID=4
DELETE FROM TCOMENTARIO WHERE ID=4
COMMIT
DISCONNECT
/*C84*/SET SCHEMA PUBLIC
DISCONNECT
/*C85*/SET SCHEMA PUBLIC
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID
ALTER TABLE TPALABRAS DROP CONSTRAINT FK_TPALABRAS_Categoria_ID
DROP TABLE TVOTOCOMENTARIO
DROP TABLE TADMINISTRADOR
DROP TABLE TCOMENTARIO
DROP TABLE TSUGERENCIA
DROP TABLE TVOTOSUGERENCIA
DROP TABLE TCATEGORIA
DROP TABLE TCITIZENS
DROP TABLE TPALABRAS
CREATE TABLE TVOTOCOMENTARIO (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, COMENTARIO_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, COMENTARIO_ID))
CREATE TABLE TADMINISTRADOR (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCOMENTARIO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), CITIZEN_ID BIGINT, SUGERENCIA_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TSUGERENCIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), ESTADO VARCHAR(255), TITULO VARCHAR(255), CATEGORIA_ID BIGINT, CITIZEN_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TVOTOSUGERENCIA (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, SUGERENCIA_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, SUGERENCIA_ID))
CREATE TABLE TCATEGORIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, FECHAFIN DATE, FECHAINICIO DATE, MINIMOVOTOS INTEGER, NOMBRE VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCITIZENS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DNI VARCHAR(255), APELLIDOS VARCHAR(255), DIRECCION VARCHAR(255), EMAIL VARCHAR(255), FECHANACIMIENTO DATE, NACIONALIDAD VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TPALABRAS (Categoria_ID BIGINT, PALABRA VARCHAR(255))
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID FOREIGN KEY (COMENTARIO_ID) REFERENCES TCOMENTARIO (ID)
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID FOREIGN KEY (CATEGORIA_ID) REFERENCES TCATEGORIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TPALABRAS ADD CONSTRAINT FK_TPALABRAS_Categoria_ID FOREIGN KEY (Categoria_ID) REFERENCES TCATEGORIA (ID)
INSERT INTO TADMINISTRADOR VALUES(1,'admin','admin')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(2,'admin2','admin2')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(3,'admin3','admin3')
COMMIT
INSERT INTO TCITIZENS VALUES(1,'71435345N','Prada','direccion','seila@gmail.com','1996-01-15','espa','Seila','llFh9oTmjUI=','Seila_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(2,'72344554T','Prada','direccion2','seila2@gmail.com','1996-01-15','espa','Seila2','llFh9oTmjUI=','Seila2_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(3,'74564534E','Prada','direccion3','seila3@gmail.com','1996-01-15','espa','Seila3','llFh9oTmjUI=','Seila3_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(4,'45654665K','Watson','direccion4','david@gmail.com','1986-04-19','eng','David','llFh9oTmjUI=','David_david')
COMMIT
INSERT INTO TCITIZENS VALUES(5,'45654465V','Rodriguez','direccion5','borja@gmail.com','1995-07-28','espa','Borja','llFh9oTmjUI=','Borja_borja')
COMMIT
INSERT INTO TCITIZENS VALUES(6,'56767567Q','Fernandez','direccion6','ruben@gmail.com','1993-03-02','espa','Ruben','llFh9oTmjUI=','Ruben_ruben')
COMMIT
INSERT INTO TCITIZENS VALUES(7,'38769345L','Ramon','direccion7','juan@gmail.com','1994-08-21','espa','Juan','llFh9oTmjUI=','Juan_juan')
COMMIT
INSERT INTO TCITIZENS VALUES(8,'67569789I','Garcia','direccion8','laura@gmail.com','1991-12-10','espa','Laura','llFh9oTmjUI=','Laura_laura')
COMMIT
INSERT INTO TCATEGORIA VALUES(1,'2000-01-01','2050-01-01',5,'CategoriaDefecto')
COMMIT
INSERT INTO TCATEGORIA VALUES(2,'2017-10-04','2017-01-04',5,'Categoria1')
COMMIT
INSERT INTO TCATEGORIA VALUES(3,'2017-10-12','2017-01-01',2,'Categoria2')
COMMIT
INSERT INTO TCATEGORIA VALUES(4,'2017-10-04','2017-01-04',3,'Categoria3')
COMMIT
INSERT INTO TCATEGORIA VALUES(5,'2017-10-03','2017-01-02',5,'Categoria4')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(5,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(5,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(5,'prueba3')
COMMIT
INSERT INTO TSUGERENCIA VALUES(1,'contenido de la primera sugerencia','Aceptada','Sugerencia1',5,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(2,'contenido de la segunda sugerencia','EnVotacion','Sugerencia2',5,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(3,'contenido de la tercera sugerencia','EnVotacion','Sugerencia3',5,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(4,'contenido de la cuarta sugerencia','EnVotacion','Sugerencia4',5,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(5,'contenido de la quinta sugerencia','EnVotacion','Sugerencia5',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(6,'contenido de la sexta sugerencia','EnVotacion','Sugerencia6',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(7,'contenido de la septima sugerencia','Anulada','Sugerencia7',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(8,'contenido de la octava sugerencia','EnVotacion','Sugerencia8',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(9,'contenido de la novena sugerencia','EnVotacion','Sugerencia9',3,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(10,'contenido de la decima sugerencia','EnVotacion','Sugerencia10',3,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(11,'contenido de la undecima sugerencia','EnVotacion','Sugerencia11',3,6)
COMMIT
INSERT INTO TSUGERENCIA VALUES(12,'contenido de la duodecima sugerencia','EnVotacion','Sugerencia12',3,7)
COMMIT
INSERT INTO TSUGERENCIA VALUES(13,'contenido de la decimotercera sugerencia','EnVotacion','Sugerencia13',5,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(14,'contenido de la decimocuarta sugerencia','EnVotacion','Sugerencia14',5,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(15,'contenido de la decimoquinta sugerencia','EnVotacion','Sugerencia15',4,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(16,'contenido de la decimosexta sugerencia','EnVotacion','Sugerencia16',4,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(17,'contenido de la decimoseptima sugerencia','Anulada','Sugerencia17',4,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(18,'contenido de la decimooctava sugerencia','Aceptada','Sugerencia18',4,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(19,'contenido de la decimonovena sugerencia','Aceptada','Sugerencia19',4,7)
COMMIT
INSERT INTO TCOMENTARIO VALUES(1,'contenido primer comentario',1,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(2,'contenido segundo comentario',2,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(3,'contenido tercer comentario',1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,5,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,6,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,7,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,8,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,5,19)
COMMIT
INSERT INTO TCATEGORIA VALUES(6,'2017-04-04','2017-04-04',5,'test')
INSERT INTO TPALABRAS VALUES(6,'qweqweqw')
COMMIT
INSERT INTO TSUGERENCIA VALUES(20,'sugerencia de prueba','EnVotacion','test',6,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,20)
COMMIT
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',1,19)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,4)
COMMIT
DELETE FROM TCOMENTARIO WHERE ID=4
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',NULL,NULL)
DELETE FROM TVOTOCOMENTARIO WHERE CITIZEN_ID=1 AND COMENTARIO_ID=4
DELETE FROM TCOMENTARIO WHERE ID=4
COMMIT
DISCONNECT
/*C86*/SET SCHEMA PUBLIC
DISCONNECT
/*C87*/SET SCHEMA PUBLIC
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID
ALTER TABLE TPALABRAS DROP CONSTRAINT FK_TPALABRAS_Categoria_ID
DROP TABLE TVOTOCOMENTARIO
DROP TABLE TADMINISTRADOR
DROP TABLE TCOMENTARIO
DROP TABLE TSUGERENCIA
DROP TABLE TVOTOSUGERENCIA
DROP TABLE TCATEGORIA
DROP TABLE TCITIZENS
DROP TABLE TPALABRAS
CREATE TABLE TVOTOCOMENTARIO (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, COMENTARIO_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, COMENTARIO_ID))
CREATE TABLE TADMINISTRADOR (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCOMENTARIO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), CITIZEN_ID BIGINT, SUGERENCIA_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TSUGERENCIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), ESTADO VARCHAR(255), TITULO VARCHAR(255), CATEGORIA_ID BIGINT, CITIZEN_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TVOTOSUGERENCIA (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, SUGERENCIA_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, SUGERENCIA_ID))
CREATE TABLE TCATEGORIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, FECHAFIN DATE, FECHAINICIO DATE, MINIMOVOTOS INTEGER, NOMBRE VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCITIZENS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DNI VARCHAR(255), APELLIDOS VARCHAR(255), DIRECCION VARCHAR(255), EMAIL VARCHAR(255), FECHANACIMIENTO DATE, NACIONALIDAD VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TPALABRAS (Categoria_ID BIGINT, PALABRA VARCHAR(255))
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID FOREIGN KEY (COMENTARIO_ID) REFERENCES TCOMENTARIO (ID)
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID FOREIGN KEY (CATEGORIA_ID) REFERENCES TCATEGORIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TPALABRAS ADD CONSTRAINT FK_TPALABRAS_Categoria_ID FOREIGN KEY (Categoria_ID) REFERENCES TCATEGORIA (ID)
INSERT INTO TADMINISTRADOR VALUES(1,'admin','admin')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(2,'admin2','admin2')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(3,'admin3','admin3')
COMMIT
INSERT INTO TCITIZENS VALUES(1,'71435345N','Prada','direccion','seila@gmail.com','1996-01-15','espa','Seila','llFh9oTmjUI=','Seila_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(2,'72344554T','Prada','direccion2','seila2@gmail.com','1996-01-15','espa','Seila2','llFh9oTmjUI=','Seila2_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(3,'74564534E','Prada','direccion3','seila3@gmail.com','1996-01-15','espa','Seila3','llFh9oTmjUI=','Seila3_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(4,'45654665K','Watson','direccion4','david@gmail.com','1986-04-19','eng','David','llFh9oTmjUI=','David_david')
COMMIT
INSERT INTO TCITIZENS VALUES(5,'45654465V','Rodriguez','direccion5','borja@gmail.com','1995-07-28','espa','Borja','llFh9oTmjUI=','Borja_borja')
COMMIT
INSERT INTO TCITIZENS VALUES(6,'56767567Q','Fernandez','direccion6','ruben@gmail.com','1993-03-02','espa','Ruben','llFh9oTmjUI=','Ruben_ruben')
COMMIT
INSERT INTO TCITIZENS VALUES(7,'38769345L','Ramon','direccion7','juan@gmail.com','1994-08-21','espa','Juan','llFh9oTmjUI=','Juan_juan')
COMMIT
INSERT INTO TCITIZENS VALUES(8,'67569789I','Garcia','direccion8','laura@gmail.com','1991-12-10','espa','Laura','llFh9oTmjUI=','Laura_laura')
COMMIT
INSERT INTO TCATEGORIA VALUES(1,'2000-01-01','2050-01-01',5,'CategoriaDefecto')
COMMIT
INSERT INTO TCATEGORIA VALUES(2,'2017-10-04','2017-01-04',5,'Categoria1')
COMMIT
INSERT INTO TCATEGORIA VALUES(3,'2017-10-12','2017-01-01',2,'Categoria2')
COMMIT
INSERT INTO TCATEGORIA VALUES(4,'2017-10-04','2017-01-04',3,'Categoria3')
COMMIT
INSERT INTO TCATEGORIA VALUES(5,'2017-10-03','2017-01-02',5,'Categoria4')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(5,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(5,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(5,'prueba3')
COMMIT
INSERT INTO TSUGERENCIA VALUES(1,'contenido de la primera sugerencia','Aceptada','Sugerencia1',5,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(2,'contenido de la segunda sugerencia','EnVotacion','Sugerencia2',5,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(3,'contenido de la tercera sugerencia','EnVotacion','Sugerencia3',5,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(4,'contenido de la cuarta sugerencia','EnVotacion','Sugerencia4',5,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(5,'contenido de la quinta sugerencia','EnVotacion','Sugerencia5',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(6,'contenido de la sexta sugerencia','EnVotacion','Sugerencia6',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(7,'contenido de la septima sugerencia','Anulada','Sugerencia7',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(8,'contenido de la octava sugerencia','EnVotacion','Sugerencia8',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(9,'contenido de la novena sugerencia','EnVotacion','Sugerencia9',3,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(10,'contenido de la decima sugerencia','EnVotacion','Sugerencia10',3,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(11,'contenido de la undecima sugerencia','EnVotacion','Sugerencia11',3,6)
COMMIT
INSERT INTO TSUGERENCIA VALUES(12,'contenido de la duodecima sugerencia','EnVotacion','Sugerencia12',3,7)
COMMIT
INSERT INTO TSUGERENCIA VALUES(13,'contenido de la decimotercera sugerencia','EnVotacion','Sugerencia13',5,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(14,'contenido de la decimocuarta sugerencia','EnVotacion','Sugerencia14',5,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(15,'contenido de la decimoquinta sugerencia','EnVotacion','Sugerencia15',4,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(16,'contenido de la decimosexta sugerencia','EnVotacion','Sugerencia16',4,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(17,'contenido de la decimoseptima sugerencia','Anulada','Sugerencia17',4,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(18,'contenido de la decimooctava sugerencia','Aceptada','Sugerencia18',4,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(19,'contenido de la decimonovena sugerencia','Aceptada','Sugerencia19',4,7)
COMMIT
INSERT INTO TCOMENTARIO VALUES(1,'contenido primer comentario',1,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(2,'contenido segundo comentario',2,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(3,'contenido tercer comentario',1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,5,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,6,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,7,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,8,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,5,19)
COMMIT
INSERT INTO TCATEGORIA VALUES(6,'2017-04-04','2017-04-04',5,'test')
INSERT INTO TPALABRAS VALUES(6,'qweqweqw')
COMMIT
INSERT INTO TSUGERENCIA VALUES(20,'sugerencia de prueba','EnVotacion','test',6,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,20)
COMMIT
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',1,19)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,4)
COMMIT
DELETE FROM TCOMENTARIO WHERE ID=4
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',NULL,NULL)
DELETE FROM TVOTOCOMENTARIO WHERE CITIZEN_ID=1 AND COMENTARIO_ID=4
DELETE FROM TCOMENTARIO WHERE ID=4
COMMIT
DISCONNECT
/*C88*/SET SCHEMA PUBLIC
DISCONNECT
/*C89*/SET SCHEMA PUBLIC
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID
ALTER TABLE TPALABRAS DROP CONSTRAINT FK_TPALABRAS_Categoria_ID
DROP TABLE TVOTOCOMENTARIO
DROP TABLE TADMINISTRADOR
DROP TABLE TCOMENTARIO
DROP TABLE TSUGERENCIA
DROP TABLE TVOTOSUGERENCIA
DROP TABLE TCATEGORIA
DROP TABLE TCITIZENS
DROP TABLE TPALABRAS
CREATE TABLE TVOTOCOMENTARIO (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, COMENTARIO_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, COMENTARIO_ID))
CREATE TABLE TADMINISTRADOR (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCOMENTARIO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), CITIZEN_ID BIGINT, SUGERENCIA_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TSUGERENCIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), ESTADO VARCHAR(255), TITULO VARCHAR(255), CATEGORIA_ID BIGINT, CITIZEN_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TVOTOSUGERENCIA (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, SUGERENCIA_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, SUGERENCIA_ID))
CREATE TABLE TCATEGORIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, FECHAFIN DATE, FECHAINICIO DATE, MINIMOVOTOS INTEGER, NOMBRE VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCITIZENS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DNI VARCHAR(255), APELLIDOS VARCHAR(255), DIRECCION VARCHAR(255), EMAIL VARCHAR(255), FECHANACIMIENTO DATE, NACIONALIDAD VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TPALABRAS (Categoria_ID BIGINT, PALABRA VARCHAR(255))
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID FOREIGN KEY (COMENTARIO_ID) REFERENCES TCOMENTARIO (ID)
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID FOREIGN KEY (CATEGORIA_ID) REFERENCES TCATEGORIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TPALABRAS ADD CONSTRAINT FK_TPALABRAS_Categoria_ID FOREIGN KEY (Categoria_ID) REFERENCES TCATEGORIA (ID)
INSERT INTO TADMINISTRADOR VALUES(1,'admin','admin')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(2,'admin2','admin2')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(3,'admin3','admin3')
COMMIT
INSERT INTO TCITIZENS VALUES(1,'71435345N','Prada','direccion','seila@gmail.com','1996-01-15','espa','Seila','llFh9oTmjUI=','Seila_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(2,'72344554T','Prada','direccion2','seila2@gmail.com','1996-01-15','espa','Seila2','llFh9oTmjUI=','Seila2_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(3,'74564534E','Prada','direccion3','seila3@gmail.com','1996-01-15','espa','Seila3','llFh9oTmjUI=','Seila3_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(4,'45654665K','Watson','direccion4','david@gmail.com','1986-04-19','eng','David','llFh9oTmjUI=','David_david')
COMMIT
INSERT INTO TCITIZENS VALUES(5,'45654465V','Rodriguez','direccion5','borja@gmail.com','1995-07-28','espa','Borja','llFh9oTmjUI=','Borja_borja')
COMMIT
INSERT INTO TCITIZENS VALUES(6,'56767567Q','Fernandez','direccion6','ruben@gmail.com','1993-03-02','espa','Ruben','llFh9oTmjUI=','Ruben_ruben')
COMMIT
INSERT INTO TCITIZENS VALUES(7,'38769345L','Ramon','direccion7','juan@gmail.com','1994-08-21','espa','Juan','llFh9oTmjUI=','Juan_juan')
COMMIT
INSERT INTO TCITIZENS VALUES(8,'67569789I','Garcia','direccion8','laura@gmail.com','1991-12-10','espa','Laura','llFh9oTmjUI=','Laura_laura')
COMMIT
INSERT INTO TCATEGORIA VALUES(1,'2000-01-01','2050-01-01',5,'CategoriaDefecto')
COMMIT
INSERT INTO TCATEGORIA VALUES(2,'2017-10-04','2017-01-04',5,'Categoria1')
COMMIT
INSERT INTO TCATEGORIA VALUES(3,'2017-10-12','2017-01-01',2,'Categoria2')
COMMIT
INSERT INTO TCATEGORIA VALUES(4,'2017-10-04','2017-01-04',3,'Categoria3')
COMMIT
INSERT INTO TCATEGORIA VALUES(5,'2017-10-03','2017-01-02',5,'Categoria4')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(5,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(5,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(5,'prueba3')
COMMIT
INSERT INTO TSUGERENCIA VALUES(1,'contenido de la primera sugerencia','Aceptada','Sugerencia1',5,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(2,'contenido de la segunda sugerencia','EnVotacion','Sugerencia2',5,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(3,'contenido de la tercera sugerencia','EnVotacion','Sugerencia3',5,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(4,'contenido de la cuarta sugerencia','EnVotacion','Sugerencia4',5,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(5,'contenido de la quinta sugerencia','EnVotacion','Sugerencia5',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(6,'contenido de la sexta sugerencia','EnVotacion','Sugerencia6',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(7,'contenido de la septima sugerencia','Anulada','Sugerencia7',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(8,'contenido de la octava sugerencia','EnVotacion','Sugerencia8',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(9,'contenido de la novena sugerencia','EnVotacion','Sugerencia9',3,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(10,'contenido de la decima sugerencia','EnVotacion','Sugerencia10',3,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(11,'contenido de la undecima sugerencia','EnVotacion','Sugerencia11',3,6)
COMMIT
INSERT INTO TSUGERENCIA VALUES(12,'contenido de la duodecima sugerencia','EnVotacion','Sugerencia12',3,7)
COMMIT
INSERT INTO TSUGERENCIA VALUES(13,'contenido de la decimotercera sugerencia','EnVotacion','Sugerencia13',5,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(14,'contenido de la decimocuarta sugerencia','EnVotacion','Sugerencia14',5,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(15,'contenido de la decimoquinta sugerencia','EnVotacion','Sugerencia15',4,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(16,'contenido de la decimosexta sugerencia','EnVotacion','Sugerencia16',4,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(17,'contenido de la decimoseptima sugerencia','Anulada','Sugerencia17',4,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(18,'contenido de la decimooctava sugerencia','Aceptada','Sugerencia18',4,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(19,'contenido de la decimonovena sugerencia','Aceptada','Sugerencia19',4,7)
COMMIT
INSERT INTO TCOMENTARIO VALUES(1,'contenido primer comentario',1,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(2,'contenido segundo comentario',2,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(3,'contenido tercer comentario',1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,5,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,6,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,7,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,8,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,5,19)
COMMIT
INSERT INTO TCATEGORIA VALUES(6,'2017-04-04','2017-04-04',5,'test')
INSERT INTO TPALABRAS VALUES(6,'qweqweqw')
COMMIT
INSERT INTO TSUGERENCIA VALUES(20,'sugerencia de prueba','EnVotacion','test',6,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,20)
COMMIT
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',1,19)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,4)
COMMIT
DELETE FROM TCOMENTARIO WHERE ID=4
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',NULL,NULL)
DELETE FROM TVOTOCOMENTARIO WHERE CITIZEN_ID=1 AND COMENTARIO_ID=4
DELETE FROM TCOMENTARIO WHERE ID=4
COMMIT
DISCONNECT
/*C90*/SET SCHEMA PUBLIC
DISCONNECT
/*C91*/SET SCHEMA PUBLIC
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID
ALTER TABLE TPALABRAS DROP CONSTRAINT FK_TPALABRAS_Categoria_ID
DROP TABLE TVOTOCOMENTARIO
DROP TABLE TADMINISTRADOR
DROP TABLE TCOMENTARIO
DROP TABLE TSUGERENCIA
DROP TABLE TVOTOSUGERENCIA
DROP TABLE TCATEGORIA
DROP TABLE TCITIZENS
DROP TABLE TPALABRAS
CREATE TABLE TVOTOCOMENTARIO (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, COMENTARIO_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, COMENTARIO_ID))
CREATE TABLE TADMINISTRADOR (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCOMENTARIO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), CITIZEN_ID BIGINT, SUGERENCIA_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TSUGERENCIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), ESTADO VARCHAR(255), TITULO VARCHAR(255), CATEGORIA_ID BIGINT, CITIZEN_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TVOTOSUGERENCIA (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, SUGERENCIA_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, SUGERENCIA_ID))
CREATE TABLE TCATEGORIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, FECHAFIN DATE, FECHAINICIO DATE, MINIMOVOTOS INTEGER, NOMBRE VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCITIZENS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DNI VARCHAR(255), APELLIDOS VARCHAR(255), DIRECCION VARCHAR(255), EMAIL VARCHAR(255), FECHANACIMIENTO DATE, NACIONALIDAD VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TPALABRAS (Categoria_ID BIGINT, PALABRA VARCHAR(255))
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID FOREIGN KEY (COMENTARIO_ID) REFERENCES TCOMENTARIO (ID)
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID FOREIGN KEY (CATEGORIA_ID) REFERENCES TCATEGORIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TPALABRAS ADD CONSTRAINT FK_TPALABRAS_Categoria_ID FOREIGN KEY (Categoria_ID) REFERENCES TCATEGORIA (ID)
INSERT INTO TADMINISTRADOR VALUES(1,'admin','admin')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(2,'admin2','admin2')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(3,'admin3','admin3')
COMMIT
INSERT INTO TCITIZENS VALUES(1,'71435345N','Prada','direccion','seila@gmail.com','1996-01-15','espa','Seila','llFh9oTmjUI=','Seila_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(2,'72344554T','Prada','direccion2','seila2@gmail.com','1996-01-15','espa','Seila2','llFh9oTmjUI=','Seila2_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(3,'74564534E','Prada','direccion3','seila3@gmail.com','1996-01-15','espa','Seila3','llFh9oTmjUI=','Seila3_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(4,'45654665K','Watson','direccion4','david@gmail.com','1986-04-19','eng','David','llFh9oTmjUI=','David_david')
COMMIT
INSERT INTO TCITIZENS VALUES(5,'45654465V','Rodriguez','direccion5','borja@gmail.com','1995-07-28','espa','Borja','llFh9oTmjUI=','Borja_borja')
COMMIT
INSERT INTO TCITIZENS VALUES(6,'56767567Q','Fernandez','direccion6','ruben@gmail.com','1993-03-02','espa','Ruben','llFh9oTmjUI=','Ruben_ruben')
COMMIT
INSERT INTO TCITIZENS VALUES(7,'38769345L','Ramon','direccion7','juan@gmail.com','1994-08-21','espa','Juan','llFh9oTmjUI=','Juan_juan')
COMMIT
INSERT INTO TCITIZENS VALUES(8,'67569789I','Garcia','direccion8','laura@gmail.com','1991-12-10','espa','Laura','llFh9oTmjUI=','Laura_laura')
COMMIT
INSERT INTO TCATEGORIA VALUES(1,'2000-01-01','2050-01-01',5,'CategoriaDefecto')
COMMIT
INSERT INTO TCATEGORIA VALUES(2,'2017-10-04','2017-01-04',5,'Categoria1')
COMMIT
INSERT INTO TCATEGORIA VALUES(3,'2017-10-12','2017-01-01',2,'Categoria2')
COMMIT
INSERT INTO TCATEGORIA VALUES(4,'2017-10-04','2017-01-04',3,'Categoria3')
COMMIT
INSERT INTO TCATEGORIA VALUES(5,'2017-10-03','2017-01-02',5,'Categoria4')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(5,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(5,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(5,'prueba3')
COMMIT
INSERT INTO TSUGERENCIA VALUES(1,'contenido de la primera sugerencia','Aceptada','Sugerencia1',5,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(2,'contenido de la segunda sugerencia','EnVotacion','Sugerencia2',5,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(3,'contenido de la tercera sugerencia','EnVotacion','Sugerencia3',5,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(4,'contenido de la cuarta sugerencia','EnVotacion','Sugerencia4',5,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(5,'contenido de la quinta sugerencia','EnVotacion','Sugerencia5',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(6,'contenido de la sexta sugerencia','EnVotacion','Sugerencia6',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(7,'contenido de la septima sugerencia','Anulada','Sugerencia7',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(8,'contenido de la octava sugerencia','EnVotacion','Sugerencia8',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(9,'contenido de la novena sugerencia','EnVotacion','Sugerencia9',3,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(10,'contenido de la decima sugerencia','EnVotacion','Sugerencia10',3,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(11,'contenido de la undecima sugerencia','EnVotacion','Sugerencia11',3,6)
COMMIT
INSERT INTO TSUGERENCIA VALUES(12,'contenido de la duodecima sugerencia','EnVotacion','Sugerencia12',3,7)
COMMIT
INSERT INTO TSUGERENCIA VALUES(13,'contenido de la decimotercera sugerencia','EnVotacion','Sugerencia13',5,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(14,'contenido de la decimocuarta sugerencia','EnVotacion','Sugerencia14',5,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(15,'contenido de la decimoquinta sugerencia','EnVotacion','Sugerencia15',4,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(16,'contenido de la decimosexta sugerencia','EnVotacion','Sugerencia16',4,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(17,'contenido de la decimoseptima sugerencia','Anulada','Sugerencia17',4,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(18,'contenido de la decimooctava sugerencia','Aceptada','Sugerencia18',4,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(19,'contenido de la decimonovena sugerencia','Aceptada','Sugerencia19',4,7)
COMMIT
INSERT INTO TCOMENTARIO VALUES(1,'contenido primer comentario',1,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(2,'contenido segundo comentario',2,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(3,'contenido tercer comentario',1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,5,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,6,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,7,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,8,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,5,19)
COMMIT
INSERT INTO TCATEGORIA VALUES(6,'2017-04-04','2017-04-04',5,'test')
INSERT INTO TPALABRAS VALUES(6,'qweqweqw')
COMMIT
INSERT INTO TSUGERENCIA VALUES(20,'sugerencia de prueba','EnVotacion','test',6,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,20)
COMMIT
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',1,19)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,4)
COMMIT
DELETE FROM TCOMENTARIO WHERE ID=4
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',NULL,NULL)
DELETE FROM TVOTOCOMENTARIO WHERE CITIZEN_ID=1 AND COMENTARIO_ID=4
DELETE FROM TCOMENTARIO WHERE ID=4
COMMIT
DISCONNECT
/*C92*/SET SCHEMA PUBLIC
DISCONNECT
/*C93*/SET SCHEMA PUBLIC
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID
ALTER TABLE TPALABRAS DROP CONSTRAINT FK_TPALABRAS_Categoria_ID
DROP TABLE TVOTOCOMENTARIO
DROP TABLE TADMINISTRADOR
DROP TABLE TCOMENTARIO
DROP TABLE TSUGERENCIA
DROP TABLE TVOTOSUGERENCIA
DROP TABLE TCATEGORIA
DROP TABLE TCITIZENS
DROP TABLE TPALABRAS
CREATE TABLE TVOTOCOMENTARIO (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, COMENTARIO_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, COMENTARIO_ID))
CREATE TABLE TADMINISTRADOR (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCOMENTARIO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), CITIZEN_ID BIGINT, SUGERENCIA_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TSUGERENCIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), ESTADO VARCHAR(255), TITULO VARCHAR(255), CATEGORIA_ID BIGINT, CITIZEN_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TVOTOSUGERENCIA (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, SUGERENCIA_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, SUGERENCIA_ID))
CREATE TABLE TCATEGORIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, FECHAFIN DATE, FECHAINICIO DATE, MINIMOVOTOS INTEGER, NOMBRE VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCITIZENS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DNI VARCHAR(255), APELLIDOS VARCHAR(255), DIRECCION VARCHAR(255), EMAIL VARCHAR(255), FECHANACIMIENTO DATE, NACIONALIDAD VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TPALABRAS (Categoria_ID BIGINT, PALABRA VARCHAR(255))
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID FOREIGN KEY (COMENTARIO_ID) REFERENCES TCOMENTARIO (ID)
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID FOREIGN KEY (CATEGORIA_ID) REFERENCES TCATEGORIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TPALABRAS ADD CONSTRAINT FK_TPALABRAS_Categoria_ID FOREIGN KEY (Categoria_ID) REFERENCES TCATEGORIA (ID)
INSERT INTO TADMINISTRADOR VALUES(1,'admin','admin')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(2,'admin2','admin2')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(3,'admin3','admin3')
COMMIT
INSERT INTO TCITIZENS VALUES(1,'71435345N','Prada','direccion','seila@gmail.com','1996-01-15','espa','Seila','llFh9oTmjUI=','Seila_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(2,'72344554T','Prada','direccion2','seila2@gmail.com','1996-01-15','espa','Seila2','llFh9oTmjUI=','Seila2_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(3,'74564534E','Prada','direccion3','seila3@gmail.com','1996-01-15','espa','Seila3','llFh9oTmjUI=','Seila3_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(4,'45654665K','Watson','direccion4','david@gmail.com','1986-04-19','eng','David','llFh9oTmjUI=','David_david')
COMMIT
INSERT INTO TCITIZENS VALUES(5,'45654465V','Rodriguez','direccion5','borja@gmail.com','1995-07-28','espa','Borja','llFh9oTmjUI=','Borja_borja')
COMMIT
INSERT INTO TCITIZENS VALUES(6,'56767567Q','Fernandez','direccion6','ruben@gmail.com','1993-03-02','espa','Ruben','llFh9oTmjUI=','Ruben_ruben')
COMMIT
INSERT INTO TCITIZENS VALUES(7,'38769345L','Ramon','direccion7','juan@gmail.com','1994-08-21','espa','Juan','llFh9oTmjUI=','Juan_juan')
COMMIT
INSERT INTO TCITIZENS VALUES(8,'67569789I','Garcia','direccion8','laura@gmail.com','1991-12-10','espa','Laura','llFh9oTmjUI=','Laura_laura')
COMMIT
INSERT INTO TCATEGORIA VALUES(1,'2000-01-01','2050-01-01',5,'CategoriaDefecto')
COMMIT
INSERT INTO TCATEGORIA VALUES(2,'2017-10-04','2017-01-04',5,'Categoria1')
COMMIT
INSERT INTO TCATEGORIA VALUES(3,'2017-10-12','2017-01-01',2,'Categoria2')
COMMIT
INSERT INTO TCATEGORIA VALUES(4,'2017-10-04','2017-01-04',3,'Categoria3')
COMMIT
INSERT INTO TCATEGORIA VALUES(5,'2017-10-03','2017-01-02',5,'Categoria4')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(5,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(5,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(5,'prueba3')
COMMIT
INSERT INTO TSUGERENCIA VALUES(1,'contenido de la primera sugerencia','Aceptada','Sugerencia1',5,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(2,'contenido de la segunda sugerencia','EnVotacion','Sugerencia2',5,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(3,'contenido de la tercera sugerencia','EnVotacion','Sugerencia3',5,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(4,'contenido de la cuarta sugerencia','EnVotacion','Sugerencia4',5,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(5,'contenido de la quinta sugerencia','EnVotacion','Sugerencia5',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(6,'contenido de la sexta sugerencia','EnVotacion','Sugerencia6',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(7,'contenido de la septima sugerencia','Anulada','Sugerencia7',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(8,'contenido de la octava sugerencia','EnVotacion','Sugerencia8',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(9,'contenido de la novena sugerencia','EnVotacion','Sugerencia9',3,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(10,'contenido de la decima sugerencia','EnVotacion','Sugerencia10',3,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(11,'contenido de la undecima sugerencia','EnVotacion','Sugerencia11',3,6)
COMMIT
INSERT INTO TSUGERENCIA VALUES(12,'contenido de la duodecima sugerencia','EnVotacion','Sugerencia12',3,7)
COMMIT
INSERT INTO TSUGERENCIA VALUES(13,'contenido de la decimotercera sugerencia','EnVotacion','Sugerencia13',5,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(14,'contenido de la decimocuarta sugerencia','EnVotacion','Sugerencia14',5,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(15,'contenido de la decimoquinta sugerencia','EnVotacion','Sugerencia15',4,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(16,'contenido de la decimosexta sugerencia','EnVotacion','Sugerencia16',4,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(17,'contenido de la decimoseptima sugerencia','Anulada','Sugerencia17',4,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(18,'contenido de la decimooctava sugerencia','Aceptada','Sugerencia18',4,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(19,'contenido de la decimonovena sugerencia','Aceptada','Sugerencia19',4,7)
COMMIT
INSERT INTO TCOMENTARIO VALUES(1,'contenido primer comentario',1,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(2,'contenido segundo comentario',2,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(3,'contenido tercer comentario',1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,5,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,6,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,7,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,8,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,5,19)
COMMIT
INSERT INTO TCATEGORIA VALUES(6,'2017-04-04','2017-04-04',5,'test')
INSERT INTO TPALABRAS VALUES(6,'qweqweqw')
COMMIT
INSERT INTO TSUGERENCIA VALUES(20,'sugerencia de prueba','EnVotacion','test',6,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,20)
COMMIT
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',1,19)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,4)
COMMIT
DELETE FROM TCOMENTARIO WHERE ID=4
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',NULL,NULL)
DELETE FROM TVOTOCOMENTARIO WHERE CITIZEN_ID=1 AND COMENTARIO_ID=4
DELETE FROM TCOMENTARIO WHERE ID=4
COMMIT
DISCONNECT
/*C94*/SET SCHEMA PUBLIC
DISCONNECT
/*C95*/SET SCHEMA PUBLIC
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID
ALTER TABLE TPALABRAS DROP CONSTRAINT FK_TPALABRAS_Categoria_ID
DROP TABLE TVOTOCOMENTARIO
DROP TABLE TADMINISTRADOR
DROP TABLE TCOMENTARIO
DROP TABLE TSUGERENCIA
DROP TABLE TVOTOSUGERENCIA
DROP TABLE TCATEGORIA
DROP TABLE TCITIZENS
DROP TABLE TPALABRAS
CREATE TABLE TVOTOCOMENTARIO (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, COMENTARIO_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, COMENTARIO_ID))
CREATE TABLE TADMINISTRADOR (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCOMENTARIO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), CITIZEN_ID BIGINT, SUGERENCIA_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TSUGERENCIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), ESTADO VARCHAR(255), TITULO VARCHAR(255), CATEGORIA_ID BIGINT, CITIZEN_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TVOTOSUGERENCIA (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, SUGERENCIA_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, SUGERENCIA_ID))
CREATE TABLE TCATEGORIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, FECHAFIN DATE, FECHAINICIO DATE, MINIMOVOTOS INTEGER, NOMBRE VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCITIZENS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DNI VARCHAR(255), APELLIDOS VARCHAR(255), DIRECCION VARCHAR(255), EMAIL VARCHAR(255), FECHANACIMIENTO DATE, NACIONALIDAD VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TPALABRAS (Categoria_ID BIGINT, PALABRA VARCHAR(255))
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID FOREIGN KEY (COMENTARIO_ID) REFERENCES TCOMENTARIO (ID)
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID FOREIGN KEY (CATEGORIA_ID) REFERENCES TCATEGORIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TPALABRAS ADD CONSTRAINT FK_TPALABRAS_Categoria_ID FOREIGN KEY (Categoria_ID) REFERENCES TCATEGORIA (ID)
INSERT INTO TADMINISTRADOR VALUES(1,'admin','admin')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(2,'admin2','admin2')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(3,'admin3','admin3')
COMMIT
INSERT INTO TCITIZENS VALUES(1,'71435345N','Prada','direccion','seila@gmail.com','1996-01-15','espa','Seila','llFh9oTmjUI=','Seila_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(2,'72344554T','Prada','direccion2','seila2@gmail.com','1996-01-15','espa','Seila2','llFh9oTmjUI=','Seila2_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(3,'74564534E','Prada','direccion3','seila3@gmail.com','1996-01-15','espa','Seila3','llFh9oTmjUI=','Seila3_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(4,'45654665K','Watson','direccion4','david@gmail.com','1986-04-19','eng','David','llFh9oTmjUI=','David_david')
COMMIT
INSERT INTO TCITIZENS VALUES(5,'45654465V','Rodriguez','direccion5','borja@gmail.com','1995-07-28','espa','Borja','llFh9oTmjUI=','Borja_borja')
COMMIT
INSERT INTO TCITIZENS VALUES(6,'56767567Q','Fernandez','direccion6','ruben@gmail.com','1993-03-02','espa','Ruben','llFh9oTmjUI=','Ruben_ruben')
COMMIT
INSERT INTO TCITIZENS VALUES(7,'38769345L','Ramon','direccion7','juan@gmail.com','1994-08-21','espa','Juan','llFh9oTmjUI=','Juan_juan')
COMMIT
INSERT INTO TCITIZENS VALUES(8,'67569789I','Garcia','direccion8','laura@gmail.com','1991-12-10','espa','Laura','llFh9oTmjUI=','Laura_laura')
COMMIT
INSERT INTO TCATEGORIA VALUES(1,'2000-01-01','2050-01-01',5,'CategoriaDefecto')
COMMIT
INSERT INTO TCATEGORIA VALUES(2,'2017-10-04','2017-01-04',5,'Categoria1')
COMMIT
INSERT INTO TCATEGORIA VALUES(3,'2017-10-12','2017-01-01',2,'Categoria2')
COMMIT
INSERT INTO TCATEGORIA VALUES(4,'2017-10-04','2017-01-04',3,'Categoria3')
COMMIT
INSERT INTO TCATEGORIA VALUES(5,'2017-10-03','2017-01-02',5,'Categoria4')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(5,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(5,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(5,'prueba3')
COMMIT
INSERT INTO TSUGERENCIA VALUES(1,'contenido de la primera sugerencia','Aceptada','Sugerencia1',5,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(2,'contenido de la segunda sugerencia','EnVotacion','Sugerencia2',5,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(3,'contenido de la tercera sugerencia','EnVotacion','Sugerencia3',5,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(4,'contenido de la cuarta sugerencia','EnVotacion','Sugerencia4',5,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(5,'contenido de la quinta sugerencia','EnVotacion','Sugerencia5',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(6,'contenido de la sexta sugerencia','EnVotacion','Sugerencia6',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(7,'contenido de la septima sugerencia','Anulada','Sugerencia7',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(8,'contenido de la octava sugerencia','EnVotacion','Sugerencia8',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(9,'contenido de la novena sugerencia','EnVotacion','Sugerencia9',3,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(10,'contenido de la decima sugerencia','EnVotacion','Sugerencia10',3,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(11,'contenido de la undecima sugerencia','EnVotacion','Sugerencia11',3,6)
COMMIT
INSERT INTO TSUGERENCIA VALUES(12,'contenido de la duodecima sugerencia','EnVotacion','Sugerencia12',3,7)
COMMIT
INSERT INTO TSUGERENCIA VALUES(13,'contenido de la decimotercera sugerencia','EnVotacion','Sugerencia13',5,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(14,'contenido de la decimocuarta sugerencia','EnVotacion','Sugerencia14',5,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(15,'contenido de la decimoquinta sugerencia','EnVotacion','Sugerencia15',4,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(16,'contenido de la decimosexta sugerencia','EnVotacion','Sugerencia16',4,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(17,'contenido de la decimoseptima sugerencia','Anulada','Sugerencia17',4,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(18,'contenido de la decimooctava sugerencia','Aceptada','Sugerencia18',4,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(19,'contenido de la decimonovena sugerencia','Aceptada','Sugerencia19',4,7)
COMMIT
INSERT INTO TCOMENTARIO VALUES(1,'contenido primer comentario',1,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(2,'contenido segundo comentario',2,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(3,'contenido tercer comentario',1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,5,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,6,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,7,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,8,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,5,19)
COMMIT
INSERT INTO TCATEGORIA VALUES(6,'2017-04-04','2017-04-04',5,'test')
INSERT INTO TPALABRAS VALUES(6,'qweqweqw')
COMMIT
INSERT INTO TSUGERENCIA VALUES(20,'sugerencia de prueba','EnVotacion','test',6,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,20)
COMMIT
DELETE FROM TSUGERENCIA WHERE ID=20
INSERT INTO TSUGERENCIA VALUES(20,'sugerencia de prueba','EnVotacion','test',1,1)
DELETE FROM TPALABRAS WHERE CATEGORIA_ID=6 AND PALABRA='qweqweqw'
DELETE FROM TCATEGORIA WHERE ID=6
COMMIT
DELETE FROM TSUGERENCIA WHERE ID=20
INSERT INTO TSUGERENCIA VALUES(20,'sugerencia de prueba','EnVotacion','test',NULL,NULL)
DELETE FROM TVOTOSUGERENCIA WHERE CITIZEN_ID=1 AND SUGERENCIA_ID=20
DELETE FROM TSUGERENCIA WHERE ID=20
COMMIT
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',1,19)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,4)
COMMIT
DELETE FROM TCOMENTARIO WHERE ID=4
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',NULL,NULL)
DELETE FROM TVOTOCOMENTARIO WHERE CITIZEN_ID=1 AND COMENTARIO_ID=4
DELETE FROM TCOMENTARIO WHERE ID=4
COMMIT
DISCONNECT
/*C96*/SET SCHEMA PUBLIC
DISCONNECT
/*C97*/SET SCHEMA PUBLIC
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID
ALTER TABLE TPALABRAS DROP CONSTRAINT FK_TPALABRAS_Categoria_ID
DROP TABLE TVOTOCOMENTARIO
DROP TABLE TADMINISTRADOR
DROP TABLE TCOMENTARIO
DROP TABLE TSUGERENCIA
DROP TABLE TVOTOSUGERENCIA
DROP TABLE TCATEGORIA
DROP TABLE TCITIZENS
DROP TABLE TPALABRAS
CREATE TABLE TVOTOCOMENTARIO (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, COMENTARIO_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, COMENTARIO_ID))
CREATE TABLE TADMINISTRADOR (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCOMENTARIO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), CITIZEN_ID BIGINT, SUGERENCIA_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TSUGERENCIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), ESTADO VARCHAR(255), TITULO VARCHAR(255), CATEGORIA_ID BIGINT, CITIZEN_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TVOTOSUGERENCIA (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, SUGERENCIA_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, SUGERENCIA_ID))
CREATE TABLE TCATEGORIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, FECHAFIN DATE, FECHAINICIO DATE, MINIMOVOTOS INTEGER, NOMBRE VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCITIZENS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DNI VARCHAR(255), APELLIDOS VARCHAR(255), DIRECCION VARCHAR(255), EMAIL VARCHAR(255), FECHANACIMIENTO DATE, NACIONALIDAD VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TPALABRAS (Categoria_ID BIGINT, PALABRA VARCHAR(255))
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID FOREIGN KEY (COMENTARIO_ID) REFERENCES TCOMENTARIO (ID)
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID FOREIGN KEY (CATEGORIA_ID) REFERENCES TCATEGORIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TPALABRAS ADD CONSTRAINT FK_TPALABRAS_Categoria_ID FOREIGN KEY (Categoria_ID) REFERENCES TCATEGORIA (ID)
INSERT INTO TADMINISTRADOR VALUES(1,'admin','admin')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(2,'admin2','admin2')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(3,'admin3','admin3')
COMMIT
INSERT INTO TCITIZENS VALUES(1,'71435345N','Prada','direccion','seila@gmail.com','1996-01-15','espa','Seila','llFh9oTmjUI=','Seila_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(2,'72344554T','Prada','direccion2','seila2@gmail.com','1996-01-15','espa','Seila2','llFh9oTmjUI=','Seila2_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(3,'74564534E','Prada','direccion3','seila3@gmail.com','1996-01-15','espa','Seila3','llFh9oTmjUI=','Seila3_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(4,'45654665K','Watson','direccion4','david@gmail.com','1986-04-19','eng','David','llFh9oTmjUI=','David_david')
COMMIT
INSERT INTO TCITIZENS VALUES(5,'45654465V','Rodriguez','direccion5','borja@gmail.com','1995-07-28','espa','Borja','llFh9oTmjUI=','Borja_borja')
COMMIT
INSERT INTO TCITIZENS VALUES(6,'56767567Q','Fernandez','direccion6','ruben@gmail.com','1993-03-02','espa','Ruben','llFh9oTmjUI=','Ruben_ruben')
COMMIT
INSERT INTO TCITIZENS VALUES(7,'38769345L','Ramon','direccion7','juan@gmail.com','1994-08-21','espa','Juan','llFh9oTmjUI=','Juan_juan')
COMMIT
INSERT INTO TCITIZENS VALUES(8,'67569789I','Garcia','direccion8','laura@gmail.com','1991-12-10','espa','Laura','llFh9oTmjUI=','Laura_laura')
COMMIT
INSERT INTO TCATEGORIA VALUES(1,'2000-01-01','2050-01-01',5,'CategoriaDefecto')
COMMIT
INSERT INTO TCATEGORIA VALUES(2,'2017-10-04','2017-01-04',5,'Categoria1')
COMMIT
INSERT INTO TCATEGORIA VALUES(3,'2017-10-12','2017-01-01',2,'Categoria2')
COMMIT
INSERT INTO TCATEGORIA VALUES(4,'2017-10-04','2017-01-04',3,'Categoria3')
COMMIT
INSERT INTO TCATEGORIA VALUES(5,'2017-10-03','2017-01-02',5,'Categoria4')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(5,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(5,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(5,'prueba3')
COMMIT
INSERT INTO TSUGERENCIA VALUES(1,'contenido de la primera sugerencia','Aceptada','Sugerencia1',5,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(2,'contenido de la segunda sugerencia','EnVotacion','Sugerencia2',5,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(3,'contenido de la tercera sugerencia','EnVotacion','Sugerencia3',5,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(4,'contenido de la cuarta sugerencia','EnVotacion','Sugerencia4',5,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(5,'contenido de la quinta sugerencia','EnVotacion','Sugerencia5',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(6,'contenido de la sexta sugerencia','EnVotacion','Sugerencia6',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(7,'contenido de la septima sugerencia','Anulada','Sugerencia7',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(8,'contenido de la octava sugerencia','EnVotacion','Sugerencia8',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(9,'contenido de la novena sugerencia','EnVotacion','Sugerencia9',3,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(10,'contenido de la decima sugerencia','EnVotacion','Sugerencia10',3,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(11,'contenido de la undecima sugerencia','EnVotacion','Sugerencia11',3,6)
COMMIT
INSERT INTO TSUGERENCIA VALUES(12,'contenido de la duodecima sugerencia','EnVotacion','Sugerencia12',3,7)
COMMIT
INSERT INTO TSUGERENCIA VALUES(13,'contenido de la decimotercera sugerencia','EnVotacion','Sugerencia13',5,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(14,'contenido de la decimocuarta sugerencia','EnVotacion','Sugerencia14',5,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(15,'contenido de la decimoquinta sugerencia','EnVotacion','Sugerencia15',4,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(16,'contenido de la decimosexta sugerencia','EnVotacion','Sugerencia16',4,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(17,'contenido de la decimoseptima sugerencia','Anulada','Sugerencia17',4,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(18,'contenido de la decimooctava sugerencia','Aceptada','Sugerencia18',4,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(19,'contenido de la decimonovena sugerencia','Aceptada','Sugerencia19',4,7)
COMMIT
INSERT INTO TCOMENTARIO VALUES(1,'contenido primer comentario',1,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(2,'contenido segundo comentario',2,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(3,'contenido tercer comentario',1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,5,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,6,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,7,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,8,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,5,19)
COMMIT
INSERT INTO TCATEGORIA VALUES(6,'2017-04-04','2017-04-04',5,'test')
INSERT INTO TPALABRAS VALUES(6,'qweqweqw')
COMMIT
INSERT INTO TSUGERENCIA VALUES(20,'sugerencia de prueba','EnVotacion','test',6,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,20)
COMMIT
DELETE FROM TSUGERENCIA WHERE ID=20
INSERT INTO TSUGERENCIA VALUES(20,'sugerencia de prueba','EnVotacion','test',1,1)
DELETE FROM TPALABRAS WHERE CATEGORIA_ID=6 AND PALABRA='qweqweqw'
DELETE FROM TCATEGORIA WHERE ID=6
COMMIT
DELETE FROM TSUGERENCIA WHERE ID=20
INSERT INTO TSUGERENCIA VALUES(20,'sugerencia de prueba','EnVotacion','test',NULL,NULL)
DELETE FROM TVOTOSUGERENCIA WHERE CITIZEN_ID=1 AND SUGERENCIA_ID=20
DELETE FROM TSUGERENCIA WHERE ID=20
COMMIT
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',1,19)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,4)
COMMIT
DELETE FROM TCOMENTARIO WHERE ID=4
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',NULL,NULL)
DELETE FROM TVOTOCOMENTARIO WHERE CITIZEN_ID=1 AND COMENTARIO_ID=4
DELETE FROM TCOMENTARIO WHERE ID=4
COMMIT
INSERT INTO TCATEGORIA VALUES(7,'2017-04-04','2017-04-04',5,'test')
INSERT INTO TPALABRAS VALUES(7,'test')
INSERT INTO TPALABRAS VALUES(7,'damn')
COMMIT
INSERT INTO TSUGERENCIA VALUES(21,'sugerencia de prueba de **** ****','Anulada','**** palabras',7,1)
COMMIT
DISCONNECT
/*C98*/SET SCHEMA PUBLIC
DISCONNECT
/*C99*/SET SCHEMA PUBLIC
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID
ALTER TABLE TPALABRAS DROP CONSTRAINT FK_TPALABRAS_Categoria_ID
DROP TABLE TVOTOCOMENTARIO
DROP TABLE TADMINISTRADOR
DROP TABLE TCOMENTARIO
DROP TABLE TSUGERENCIA
DROP TABLE TVOTOSUGERENCIA
DROP TABLE TCATEGORIA
DROP TABLE TCITIZENS
DROP TABLE TPALABRAS
CREATE TABLE TVOTOCOMENTARIO (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, COMENTARIO_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, COMENTARIO_ID))
CREATE TABLE TADMINISTRADOR (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCOMENTARIO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), CITIZEN_ID BIGINT, SUGERENCIA_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TSUGERENCIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), ESTADO VARCHAR(255), TITULO VARCHAR(255), CATEGORIA_ID BIGINT, CITIZEN_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TVOTOSUGERENCIA (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, SUGERENCIA_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, SUGERENCIA_ID))
CREATE TABLE TCATEGORIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, FECHAFIN DATE, FECHAINICIO DATE, MINIMOVOTOS INTEGER, NOMBRE VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCITIZENS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DNI VARCHAR(255), APELLIDOS VARCHAR(255), DIRECCION VARCHAR(255), EMAIL VARCHAR(255), FECHANACIMIENTO DATE, NACIONALIDAD VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TPALABRAS (Categoria_ID BIGINT, PALABRA VARCHAR(255))
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID FOREIGN KEY (COMENTARIO_ID) REFERENCES TCOMENTARIO (ID)
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID FOREIGN KEY (CATEGORIA_ID) REFERENCES TCATEGORIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TPALABRAS ADD CONSTRAINT FK_TPALABRAS_Categoria_ID FOREIGN KEY (Categoria_ID) REFERENCES TCATEGORIA (ID)
INSERT INTO TADMINISTRADOR VALUES(1,'admin','admin')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(2,'admin2','admin2')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(3,'admin3','admin3')
COMMIT
INSERT INTO TCITIZENS VALUES(1,'71435345N','Prada','direccion','seila@gmail.com','1996-01-15','espa','Seila','llFh9oTmjUI=','Seila_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(2,'72344554T','Prada','direccion2','seila2@gmail.com','1996-01-15','espa','Seila2','llFh9oTmjUI=','Seila2_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(3,'74564534E','Prada','direccion3','seila3@gmail.com','1996-01-15','espa','Seila3','llFh9oTmjUI=','Seila3_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(4,'45654665K','Watson','direccion4','david@gmail.com','1986-04-19','eng','David','llFh9oTmjUI=','David_david')
COMMIT
INSERT INTO TCITIZENS VALUES(5,'45654465V','Rodriguez','direccion5','borja@gmail.com','1995-07-28','espa','Borja','llFh9oTmjUI=','Borja_borja')
COMMIT
INSERT INTO TCITIZENS VALUES(6,'56767567Q','Fernandez','direccion6','ruben@gmail.com','1993-03-02','espa','Ruben','llFh9oTmjUI=','Ruben_ruben')
COMMIT
INSERT INTO TCITIZENS VALUES(7,'38769345L','Ramon','direccion7','juan@gmail.com','1994-08-21','espa','Juan','llFh9oTmjUI=','Juan_juan')
COMMIT
INSERT INTO TCITIZENS VALUES(8,'67569789I','Garcia','direccion8','laura@gmail.com','1991-12-10','espa','Laura','llFh9oTmjUI=','Laura_laura')
COMMIT
INSERT INTO TCATEGORIA VALUES(1,'2000-01-01','2050-01-01',5,'CategoriaDefecto')
COMMIT
INSERT INTO TCATEGORIA VALUES(2,'2017-10-04','2017-01-04',5,'Categoria1')
COMMIT
INSERT INTO TCATEGORIA VALUES(3,'2017-10-12','2017-01-01',2,'Categoria2')
COMMIT
INSERT INTO TCATEGORIA VALUES(4,'2017-10-04','2017-01-04',3,'Categoria3')
COMMIT
INSERT INTO TCATEGORIA VALUES(5,'2017-10-03','2017-01-02',5,'Categoria4')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(5,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(5,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(5,'prueba3')
COMMIT
INSERT INTO TSUGERENCIA VALUES(1,'contenido de la primera sugerencia','Aceptada','Sugerencia1',5,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(2,'contenido de la segunda sugerencia','EnVotacion','Sugerencia2',5,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(3,'contenido de la tercera sugerencia','EnVotacion','Sugerencia3',5,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(4,'contenido de la cuarta sugerencia','EnVotacion','Sugerencia4',5,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(5,'contenido de la quinta sugerencia','EnVotacion','Sugerencia5',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(6,'contenido de la sexta sugerencia','EnVotacion','Sugerencia6',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(7,'contenido de la septima sugerencia','Anulada','Sugerencia7',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(8,'contenido de la octava sugerencia','EnVotacion','Sugerencia8',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(9,'contenido de la novena sugerencia','EnVotacion','Sugerencia9',3,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(10,'contenido de la decima sugerencia','EnVotacion','Sugerencia10',3,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(11,'contenido de la undecima sugerencia','EnVotacion','Sugerencia11',3,6)
COMMIT
INSERT INTO TSUGERENCIA VALUES(12,'contenido de la duodecima sugerencia','EnVotacion','Sugerencia12',3,7)
COMMIT
INSERT INTO TSUGERENCIA VALUES(13,'contenido de la decimotercera sugerencia','EnVotacion','Sugerencia13',5,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(14,'contenido de la decimocuarta sugerencia','EnVotacion','Sugerencia14',5,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(15,'contenido de la decimoquinta sugerencia','EnVotacion','Sugerencia15',4,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(16,'contenido de la decimosexta sugerencia','EnVotacion','Sugerencia16',4,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(17,'contenido de la decimoseptima sugerencia','Anulada','Sugerencia17',4,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(18,'contenido de la decimooctava sugerencia','Aceptada','Sugerencia18',4,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(19,'contenido de la decimonovena sugerencia','Aceptada','Sugerencia19',4,7)
COMMIT
INSERT INTO TCOMENTARIO VALUES(1,'contenido primer comentario',1,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(2,'contenido segundo comentario',2,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(3,'contenido tercer comentario',1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,5,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,6,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,7,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,8,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,5,19)
COMMIT
INSERT INTO TCATEGORIA VALUES(6,'2017-04-04','2017-04-04',5,'test')
INSERT INTO TPALABRAS VALUES(6,'qweqweqw')
COMMIT
INSERT INTO TSUGERENCIA VALUES(20,'sugerencia de prueba','EnVotacion','test',6,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,20)
COMMIT
DELETE FROM TSUGERENCIA WHERE ID=20
INSERT INTO TSUGERENCIA VALUES(20,'sugerencia de prueba','EnVotacion','test',1,1)
DELETE FROM TPALABRAS WHERE CATEGORIA_ID=6 AND PALABRA='qweqweqw'
DELETE FROM TCATEGORIA WHERE ID=6
COMMIT
DELETE FROM TSUGERENCIA WHERE ID=20
INSERT INTO TSUGERENCIA VALUES(20,'sugerencia de prueba','EnVotacion','test',NULL,NULL)
DELETE FROM TVOTOSUGERENCIA WHERE CITIZEN_ID=1 AND SUGERENCIA_ID=20
DELETE FROM TSUGERENCIA WHERE ID=20
COMMIT
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',1,19)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,4)
COMMIT
DELETE FROM TCOMENTARIO WHERE ID=4
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',NULL,NULL)
DELETE FROM TVOTOCOMENTARIO WHERE CITIZEN_ID=1 AND COMENTARIO_ID=4
DELETE FROM TCOMENTARIO WHERE ID=4
COMMIT
INSERT INTO TCATEGORIA VALUES(7,'2017-04-04','2017-04-04',5,'test')
INSERT INTO TPALABRAS VALUES(7,'test')
INSERT INTO TPALABRAS VALUES(7,'damn')
COMMIT
INSERT INTO TSUGERENCIA VALUES(21,'sugerencia de prueba de **** ****','Anulada','**** palabras',7,1)
COMMIT
DISCONNECT
/*C100*/SET SCHEMA PUBLIC
DISCONNECT
/*C101*/SET SCHEMA PUBLIC
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID
ALTER TABLE TVOTOCOMENTARIO DROP CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID
ALTER TABLE TCOMENTARIO DROP CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID
ALTER TABLE TSUGERENCIA DROP CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID
ALTER TABLE TVOTOSUGERENCIA DROP CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID
ALTER TABLE TPALABRAS DROP CONSTRAINT FK_TPALABRAS_Categoria_ID
DROP TABLE TVOTOCOMENTARIO
DROP TABLE TADMINISTRADOR
DROP TABLE TCOMENTARIO
DROP TABLE TSUGERENCIA
DROP TABLE TVOTOSUGERENCIA
DROP TABLE TCATEGORIA
DROP TABLE TCITIZENS
DROP TABLE TPALABRAS
CREATE TABLE TVOTOCOMENTARIO (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, COMENTARIO_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, COMENTARIO_ID))
CREATE TABLE TADMINISTRADOR (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCOMENTARIO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), CITIZEN_ID BIGINT, SUGERENCIA_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TSUGERENCIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CONTENIDO VARCHAR(255), ESTADO VARCHAR(255), TITULO VARCHAR(255), CATEGORIA_ID BIGINT, CITIZEN_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TVOTOSUGERENCIA (ISAFAVOR BOOLEAN, CITIZEN_ID BIGINT NOT NULL, SUGERENCIA_ID BIGINT NOT NULL, PRIMARY KEY (CITIZEN_ID, SUGERENCIA_ID))
CREATE TABLE TCATEGORIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, FECHAFIN DATE, FECHAINICIO DATE, MINIMOVOTOS INTEGER, NOMBRE VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCITIZENS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DNI VARCHAR(255), APELLIDOS VARCHAR(255), DIRECCION VARCHAR(255), EMAIL VARCHAR(255), FECHANACIMIENTO DATE, NACIONALIDAD VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TPALABRAS (Categoria_ID BIGINT, PALABRA VARCHAR(255))
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_COMENTARIO_ID FOREIGN KEY (COMENTARIO_ID) REFERENCES TCOMENTARIO (ID)
ALTER TABLE TVOTOCOMENTARIO ADD CONSTRAINT FK_TVOTOCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TCOMENTARIO ADD CONSTRAINT FK_TCOMENTARIO_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CATEGORIA_ID FOREIGN KEY (CATEGORIA_ID) REFERENCES TCATEGORIA (ID)
ALTER TABLE TSUGERENCIA ADD CONSTRAINT FK_TSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_CITIZEN_ID FOREIGN KEY (CITIZEN_ID) REFERENCES TCITIZENS (ID)
ALTER TABLE TVOTOSUGERENCIA ADD CONSTRAINT FK_TVOTOSUGERENCIA_SUGERENCIA_ID FOREIGN KEY (SUGERENCIA_ID) REFERENCES TSUGERENCIA (ID)
ALTER TABLE TPALABRAS ADD CONSTRAINT FK_TPALABRAS_Categoria_ID FOREIGN KEY (Categoria_ID) REFERENCES TCATEGORIA (ID)
INSERT INTO TADMINISTRADOR VALUES(1,'admin','admin')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(2,'admin2','admin2')
COMMIT
INSERT INTO TADMINISTRADOR VALUES(3,'admin3','admin3')
COMMIT
INSERT INTO TCITIZENS VALUES(1,'71435345N','Prada','direccion','seila@gmail.com','1996-01-15','espa','Seila','llFh9oTmjUI=','Seila_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(2,'72344554T','Prada','direccion2','seila2@gmail.com','1996-01-15','espa','Seila2','llFh9oTmjUI=','Seila2_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(3,'74564534E','Prada','direccion3','seila3@gmail.com','1996-01-15','espa','Seila3','llFh9oTmjUI=','Seila3_seila')
COMMIT
INSERT INTO TCITIZENS VALUES(4,'45654665K','Watson','direccion4','david@gmail.com','1986-04-19','eng','David','llFh9oTmjUI=','David_david')
COMMIT
INSERT INTO TCITIZENS VALUES(5,'45654465V','Rodriguez','direccion5','borja@gmail.com','1995-07-28','espa','Borja','llFh9oTmjUI=','Borja_borja')
COMMIT
INSERT INTO TCITIZENS VALUES(6,'56767567Q','Fernandez','direccion6','ruben@gmail.com','1993-03-02','espa','Ruben','llFh9oTmjUI=','Ruben_ruben')
COMMIT
INSERT INTO TCITIZENS VALUES(7,'38769345L','Ramon','direccion7','juan@gmail.com','1994-08-21','espa','Juan','llFh9oTmjUI=','Juan_juan')
COMMIT
INSERT INTO TCITIZENS VALUES(8,'67569789I','Garcia','direccion8','laura@gmail.com','1991-12-10','espa','Laura','llFh9oTmjUI=','Laura_laura')
COMMIT
INSERT INTO TCATEGORIA VALUES(1,'2000-01-01','2050-01-01',5,'CategoriaDefecto')
COMMIT
INSERT INTO TCATEGORIA VALUES(2,'2017-10-04','2017-01-04',5,'Categoria1')
COMMIT
INSERT INTO TCATEGORIA VALUES(3,'2017-10-12','2017-01-01',2,'Categoria2')
COMMIT
INSERT INTO TCATEGORIA VALUES(4,'2017-10-04','2017-01-04',3,'Categoria3')
COMMIT
INSERT INTO TCATEGORIA VALUES(5,'2017-10-03','2017-01-02',5,'Categoria4')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(2,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(3,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(4,'prueba3')
COMMIT
INSERT INTO TPALABRAS VALUES(5,'prueba')
COMMIT
INSERT INTO TPALABRAS VALUES(5,'prueba2')
COMMIT
INSERT INTO TPALABRAS VALUES(5,'prueba3')
COMMIT
INSERT INTO TSUGERENCIA VALUES(1,'contenido de la primera sugerencia','Aceptada','Sugerencia1',5,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(2,'contenido de la segunda sugerencia','EnVotacion','Sugerencia2',5,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(3,'contenido de la tercera sugerencia','EnVotacion','Sugerencia3',5,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(4,'contenido de la cuarta sugerencia','EnVotacion','Sugerencia4',5,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(5,'contenido de la quinta sugerencia','EnVotacion','Sugerencia5',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(6,'contenido de la sexta sugerencia','EnVotacion','Sugerencia6',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(7,'contenido de la septima sugerencia','Anulada','Sugerencia7',2,3)
COMMIT
INSERT INTO TSUGERENCIA VALUES(8,'contenido de la octava sugerencia','EnVotacion','Sugerencia8',2,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(9,'contenido de la novena sugerencia','EnVotacion','Sugerencia9',3,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(10,'contenido de la decima sugerencia','EnVotacion','Sugerencia10',3,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(11,'contenido de la undecima sugerencia','EnVotacion','Sugerencia11',3,6)
COMMIT
INSERT INTO TSUGERENCIA VALUES(12,'contenido de la duodecima sugerencia','EnVotacion','Sugerencia12',3,7)
COMMIT
INSERT INTO TSUGERENCIA VALUES(13,'contenido de la decimotercera sugerencia','EnVotacion','Sugerencia13',5,1)
COMMIT
INSERT INTO TSUGERENCIA VALUES(14,'contenido de la decimocuarta sugerencia','EnVotacion','Sugerencia14',5,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(15,'contenido de la decimoquinta sugerencia','EnVotacion','Sugerencia15',4,5)
COMMIT
INSERT INTO TSUGERENCIA VALUES(16,'contenido de la decimosexta sugerencia','EnVotacion','Sugerencia16',4,4)
COMMIT
INSERT INTO TSUGERENCIA VALUES(17,'contenido de la decimoseptima sugerencia','Anulada','Sugerencia17',4,8)
COMMIT
INSERT INTO TSUGERENCIA VALUES(18,'contenido de la decimooctava sugerencia','Aceptada','Sugerencia18',4,2)
COMMIT
INSERT INTO TSUGERENCIA VALUES(19,'contenido de la decimonovena sugerencia','Aceptada','Sugerencia19',4,7)
COMMIT
INSERT INTO TCOMENTARIO VALUES(1,'contenido primer comentario',1,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(2,'contenido segundo comentario',2,1)
COMMIT
INSERT INTO TCOMENTARIO VALUES(3,'contenido tercer comentario',1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,5,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,6,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,7,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,8,1)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,3,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,2)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,3)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,18)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,2,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(FALSE,3,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,4,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,7,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,8,19)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,5,19)
COMMIT
INSERT INTO TCATEGORIA VALUES(6,'2017-04-04','2017-04-04',5,'test')
INSERT INTO TPALABRAS VALUES(6,'qweqweqw')
COMMIT
INSERT INTO TSUGERENCIA VALUES(20,'sugerencia de prueba','EnVotacion','test',6,1)
COMMIT
INSERT INTO TVOTOSUGERENCIA VALUES(TRUE,1,20)
COMMIT
DELETE FROM TSUGERENCIA WHERE ID=20
INSERT INTO TSUGERENCIA VALUES(20,'sugerencia de prueba','EnVotacion','test',1,1)
DELETE FROM TPALABRAS WHERE CATEGORIA_ID=6 AND PALABRA='qweqweqw'
DELETE FROM TCATEGORIA WHERE ID=6
COMMIT
DELETE FROM TSUGERENCIA WHERE ID=20
INSERT INTO TSUGERENCIA VALUES(20,'sugerencia de prueba','EnVotacion','test',NULL,NULL)
DELETE FROM TVOTOSUGERENCIA WHERE CITIZEN_ID=1 AND SUGERENCIA_ID=20
DELETE FROM TSUGERENCIA WHERE ID=20
COMMIT
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',1,19)
COMMIT
INSERT INTO TVOTOCOMENTARIO VALUES(TRUE,1,4)
COMMIT
DELETE FROM TCOMENTARIO WHERE ID=4
INSERT INTO TCOMENTARIO VALUES(4,'comentario de prueba2',NULL,NULL)
DELETE FROM TVOTOCOMENTARIO WHERE CITIZEN_ID=1 AND COMENTARIO_ID=4
DELETE FROM TCOMENTARIO WHERE ID=4
COMMIT
INSERT INTO TCATEGORIA VALUES(7,'2017-04-04','2017-04-04',5,'test')
INSERT INTO TPALABRAS VALUES(7,'test')
INSERT INTO TPALABRAS VALUES(7,'damn')
COMMIT
INSERT INTO TSUGERENCIA VALUES(21,'sugerencia de prueba de **** ****','Anulada','**** palabras',7,1)
COMMIT
DELETE FROM TSUGERENCIA WHERE ID=21
INSERT INTO TSUGERENCIA VALUES(21,'fixed contenido','EnVotacion','fixed titulo',7,1)
COMMIT
DISCONNECT
